operations = {
    steal_soviet_anti_tank_research = {
        icon = GFX_decision_generic_tank

        allowed = {
            tag = GER
        }

        visible = {
            tag = GER
            has_game_rule = {
                rule = german_anti_tank_bonus
                option = on
            }
        }

        fire_only_once = yes

        complete_effect = {
            add_tech_bonus = {
                name = SOV_soviet_artillery_tech_bonus_name_default
                bonus = 1.0
                uses = 2
                category = artillery
            }
        }
    }
	
    assume_control_siam = {
        # icon = generic_operation

        allowed = {
            tag = JAP
        }

        available = {
            SIA = { is_ai = yes }
        }

        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        visible = {
            tag = JAP
        }

        targets = {SIA}

        complete_effect = {
            JAP = {
                annex_country = {
                    target = SIA
                    transfer_troops = yes
                }
            }
			add_state_core = 289
			add_state_core = 724
        }
    }

    assume_control_manchukuo = {
        # icon = generic_operation

        allowed = {
            tag = JAP
        }

        available = {
            MAN = { is_ai = yes }
        }

        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        visible = {
            tag = JAP
        }

        targets = {MAN}

        complete_effect = {
            JAP = {
                annex_country = {
                    target = MAN
                    transfer_troops = yes
                }
		add_state_core = 716
		add_state_core = 328
		add_state_core = 717
		add_state_core = 714
		add_state_core = 715
		add_state_core = 610
		add_state_core = 611
		add_state_core = 612
		add_state_core = 761		
            }
				JAP = {
                    add_research_slot = 1
                }			
				}

}
 
    assume_control_new_zealand = {
        # icon = generic_operation

        allowed = {
            tag = AST 
        }
        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        available = {
            NZL = { is_ai = yes }
        }

		targets = {NZL}

        complete_effect = {
            AST = {
                annex_country = {
                    target = NZL
                    transfer_troops = yes
                }
		add_state_core = 284
		add_state_core = 723		
            }
        }
    }
		
    assume_control_canada = {
        # icon = generic_operation

        allowed = {
            tag = ENG
        }
        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        available = {
            CAN = { is_ai = yes }
        }

		targets = {CAN}

        complete_effect = {
            ENG = {
                annex_country = {
                    target = CAN
                    transfer_troops = yes					
                }			
			every_state = {
                limit = {
                    is_core_of = CAN
                    is_controlled_by = ENG
                }
                add_compliance = 100
		    } 						
            }
		    }
        }
 
    assume_control_south_africa = {
        # icon = generic_operation

        allowed = {
            tag = ENG
        }
        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        available =
		{
            SAF = { is_ai = yes }
        }

		targets = {SAF}

        complete_effect = {
            ENG = {
                annex_country = 
				{
                    target = SAF
                    transfer_troops = yes				
                }			
			every_state = {
                limit = {
                    is_core_of = SAF
                    is_controlled_by = ENG
                }
                add_compliance = 100
		    } 

            }

		    }
        }
 
    assume_control_british_raj = {
        # icon = generic_operation

        allowed = {
            tag = ENG
        }
        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        available = {
            RAJ = { is_ai = yes }
        }

		targets = {RAJ}

        complete_effect = {
            ENG = {
                annex_country = {
                    target = RAJ
                    transfer_troops = yes
                }			
			every_state = {
                limit = {
                    is_core_of = RAJ
                    is_controlled_by = ENG
                }
                add_compliance = 100
		    } 

            }

		    }
        }
 
    assume_control_australia = {
        # icon = generic_operation

        allowed = {
            tag = ENG
        }
        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        available = {
            AST = { is_ai = yes }
        }

		targets = {NZL}

        complete_effect = {
            ENG = {		
                annex_country = {
                    target = AST
                    transfer_troops = yes
                }		

				every_state = {
					limit = {
						is_core_of = AST
						is_controlled_by = ENG
					}
					add_compliance = 100
				}      
			}
		} 	
	}
	
	# ZMM: Spawn units to prevent instant ENG cap
	mobilize_mainland_garrison = {
		allowed = {
            tag = ENG
        }
		available = {
            NOT = {
				controls_state = 118
				controls_state = 116
				controls_state = 183
				controls_state = 446
				controls_state = 453
			}
			controls_state = 126
        }
		visible = {
            tag = ENG
        }
		fire_only_once = yes
		cost = 0
		ai_will_do = {
            factor = 0
        }
		
		days_remove = 180
		modifier = {
			consumer_goods_factor = 0.05
		}
		
		complete_effect = {
			load_oob = "ENG_mainland_garrison_spawnin"
		}
	}
	
   assume_control_hungary = {
        # icon = generic_operation

        allowed = {
            tag = ROM
        }

        available = {
            HUN = { is_ai = yes }
        }

        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        visible = {
            tag = ROM
        }

        targets = {HUN}

        complete_effect = {
            ROM = {
                annex_country = {
                    target = HUN
                    transfer_troops = yes
                }
            
			add_state_core = 155
			add_state_core = 154
			add_state_core = 43
			}
		}
    }

   assume_control_bulgaria = {
        # icon = generic_operation

        allowed = {
            tag = ROM
        }

        available = {
            BUL = { is_ai = yes }
        }

        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        visible = {
            tag = ROM
        }

        targets = {BUL}

        complete_effect = {
            ROM = {
                annex_country = {
                    target = BUL
                    transfer_troops = yes
                }
            
			add_state_core = 211
			add_state_core = 212
			add_state_core = 48
			add_state_core = 801										
				}
		}
    }

  assume_control_USAnordAtlantic = {
        # icon = generic_operation

        allowed = {
            tag = USA
        }

        available = {	
        }

        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        visible = {
            tag = USA		
        }

        targets = {DEN}

        complete_effect = {
            USA = {
            
			add_state_core = 100
			add_state_core = 101
			transfer_state = 100
			transfer_state = 101			
        }}
    }

  assume_control_ENGAnordAtlantic = {
        # icon = generic_operation

        allowed = {
            tag = ENG
        }

        available = {		
        }

        fire_only_once = yes

        cost = 0

        ai_will_do = {
            factor = 0
        }

        visible = {
          AND = {  
		  tag = ENG 
			383 = {
	is_controlled_by = WST
}				      }}

        targets = {DEN}

        complete_effect = {
            ENG = {
            
			add_state_core = 100
			add_state_core = 101
			transfer_state = 100
			transfer_state = 101			
        }}
    }


}


FRA_intervention_in_overseas_territories = {

	FRA_take_north_africa = {
		visible = {
			has_completed_focus = FRA_intervention_in_north_africa
		}
		fire_only_once = yes
		cost = 50
		days_remove = 70
		remove_effect = {
			transfer_state = 513
			transfer_state = 461
			transfer_state = 462
			transfer_state = 514
			transfer_state = 459
			transfer_state = 460
			transfer_state = 665
			transfer_state = 458
			VIC = { country_event = LaR_france_vichy_notification_events.11 }
			GER = { country_event = LaR_france_vichy_notification_events.11 }
		}
	}

	FRA_take_west_africa = {
		visible = {
			has_completed_focus = FRA_intervention_in_west_africa
		}
		fire_only_once = yes
		cost = 50
		days_remove = 70
		remove_effect = {
			transfer_state = 515
            515 = { add_extra_state_shared_building_slots = 2 add_building_construction = { type = arms_factory level = 2 instant_build = yes } }
			transfer_state = 782
            782 = { add_extra_state_shared_building_slots = 1 add_building_construction = { type = arms_factory level = 1 instant_build = yes } }
			transfer_state = 786
            786 = { add_extra_state_shared_building_slots = 1 add_building_construction = { type = arms_factory level = 1 instant_build = yes } }
			transfer_state = 557
            557 = { add_extra_state_shared_building_slots = 1 add_building_construction = { type = arms_factory level = 1 instant_build = yes } }
			transfer_state = 272
			transfer_state = 780
			transfer_state = 556
			transfer_state = 779
			transfer_state = 778
			transfer_state = 781
			transfer_state = 776
			transfer_state = 777
			VIC = { country_event = LaR_france_vichy_notification_events.10 }
            GER = { country_event = LaR_france_vichy_notification_events.10 }
            ITA = { country_event = LaR_france_vichy_notification_events.10 }
		}
	}

	FRA_take_madagascar = {
		visible = {
			has_completed_focus = FRA_intervention_in_madagascar
		}
		fire_only_once = yes
		cost = 50
		days_remove = 70
		remove_effect = {
			transfer_state = 543
			transfer_state = 708
			transfer_state = 706
			transfer_state = 713
			VIC = { country_event = LaR_france_vichy_notification_events.12 }
            GER = { country_event = LaR_france_vichy_notification_events.12 }
            ITA = { country_event = LaR_france_vichy_notification_events.12 }
		}
	}

	FRA_take_syria = {
		visible = {
			has_completed_focus = FRA_intervention_in_syria
		}
		fire_only_once = yes
		cost = 50
		days_remove = 70
		remove_effect = {
			transfer_state = 553
			transfer_state = 554
			transfer_state = 680
			transfer_state = 677
			transfer_state = 799
			VIC = { country_event = LaR_france_vichy_notification_events.7 }
            GER = { country_event = LaR_france_vichy_notification_events.7 }
            ITA = { country_event = LaR_france_vichy_notification_events.7 }
		}
	}

}


FRA_prepare_gabon_c = {
    FRA_prepare_gabon = {
        allowed = {
			original_tag=FRA
		}
		icon = ger_military_buildup
		available = {
			check_variable={ preparedmil > 6 }
            check_variable={ preparedciv > 6 }
		}

		days_mission_timeout = 14

		fire_only_once = no
		is_good = yes
		activation = {
            always=no
        }

        timeout_effect = {	
            FRA_prepare_mil=yes	
            FRA_prepare_civ=yes	
            add_to_variable={ preparedciv = 1 }
			add_to_variable={ preparedmil = 1 }	
            activate_mission=FRA_prepare_gabon2
        }

		complete_effect = {

		}
    }
    FRA_prepare_gabon2 = {
        allowed = {
			original_tag=FRA
		}
		icon = ger_military_buildup
		available = {
            check_variable={ preparedmil > 6 }
            check_variable={ preparedciv > 6 }
		}

		days_mission_timeout = 14

		fire_only_once = no
		is_good = yes
		activation = {
            always=no
        }

        timeout_effect = {	
            FRA_prepare_mil=yes
            FRA_prepare_civ=yes
            add_to_variable={ preparedciv = 1 }
			add_to_variable={ preparedmil = 1 }	
            activate_mission=FRA_prepare_gabon
        }

		complete_effect = {

		}
    }
}


SOV_spain = {
	SOV_assist_republican_spain = {
		icon = GFX_decision_category_spr_civil_war_offensives

		fire_only_once = yes

		days_remove = 70

		cost = 0

		available = {
			has_global_flag = spanish_civil_war
			not = {
				has_global_flag = spanish_civil_war_over
			}
		}

		modifier = {}

		remove_effect = {
			SOV = {
				army_experience = 300
				add_timed_idea = { idea = SPR_seized_spanish_gold_reserves days = 365 }
			}
		}
        complete_effect = {
            SOV = {
                add_political_power = -100
            }
        }
	}
}

