
#flavour

add_namespace = italymod.flavourevent

#events

add_namespace = italymod.event

#country_event = {
#	id = italymod.event.1
#	
#	title = "Defeat in Ethiopia!"
#	desc = italymod.event.1.desc
#	picture = GFX_scared_mussolini
#			
#	trigger = {
#		tag = ITA
#		ITA = {
#			NOT = {
#				controls_state = 550 
#				controls_state = 559
#				has_country_flag = ITA_lose_eth
#			}
#			has_war_with = ETH
#		}
#	}
#
#	mean_time_to_happen = { days = 7 }
#
#
#	option = {
#		trigger = {
#		}
#		set_country_flag = ITA_lose_eth
#		name = "This is worse than Adua!"
#		add_stability = -0.20
#		add_war_support = -0.20
#		add_popularity = {
#			ideology = fascism
#			popularity = -0.10
#		}
#		complete_national_focus = ITA_end_ethiopian_offensive
#	}
#}

#"Monarchists launch a coup!"

#"The king is deposed"

#"The Monarchists Coup!"

#"The arrest of Mussolini"
country_event = {
	id = italymod.event.5
	title = italymod.event.5.t
	desc = italymod.event.5.desc
	picture = GFX_25_july
	
	is_triggered_only = yes
	
	option = {
		trigger = {
		}
		name = italymod.event.5.a #"So this is the end of Fascism, right?"
		
		set_country_flag = ITA_end_fascism_flag
		
		IF = {
			limit = { fascism > 0.20 }
			set_country_flag = ITA_civil_war_f
		 }
		
		hidden_effect = {
			ITA_dino_grandi = {
				add_country_leader_role = {
					country_leader = {
						ideology = fascism_ideology
						expire = "1965.1.1.1"
						traits = {}
					}
					promote_leader = yes
				}
			}
		}
		
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.025
		}
		
		ITA_pietro_badoglio = {
			add_country_leader_role = {
				country_leader = {
					ideology = despotism
					expire = "1965.1.1.1"
					traits = {}
				}
				promote_leader = yes
			}
		}
		set_party_name = { ideology = neutrality long_name = military_government_party name = military_government_party }
		 
		add_stability = 0.10
		 
		add_timed_idea = { idea = ashes_of_fascism days = 1460 }
		
		hidden_effect = {
			ITA_dino_grandi = {
				add_country_leader_role = {
					country_leader = {
						ideology = fascism_ideology
						expire = "1965.1.1.1"
						traits = {}
					}
					promote_leader = yes
				}
			}
		}
		
		news_event = { days = 1 id = italymod.news.5 }
		 
	}
}

#"Fascist launch a coup!"
country_event = {
	id = italymod.event.6
	title = italymod.event.6.t
	desc = italymod.event.6.desc
	picture = GFX_report_event_ger_civil_war
	
	trigger = {
		tag = ITA
		has_country_flag = ITA_civil_war_f
	}
	
	fire_only_once = yes

	mean_time_to_happen = { days = 30 }
	
	option = {
		trigger = {
		}
		name = italymod.event.6.a #"Damn those fascists!"
		
		start_civil_war = {
			ruling_party = democratic
			ideology = fascism
			size = 0.45
			capital = 159
			states = { 159 39 160 736 163 117 156 115 114 }
			#keep_unit_leaders = { 8000 8001 8002 8003 8004 8005 8006 8007 8008 8009 8010 8011 8012 8100 8101 8102 8103 8104 8105 8106 8107 }
			#keep_unit_leaders = { 8000 8002 8003 8004 8005 8006 8007 8009 8011 8100 8101 8102 8103 8104 8105 }
		}
		
		random_other_country = {
			limit = {
				original_tag = ITA
				has_government = fascism
			}
				
			save_event_target_as = fascist_italy_civil_war
			
			every_unit_leader = {
				set_nationality = ITA
			}
			
			set_nationality = {
				character = ITA_carlo_scorza
				target_country = ITA
			}
			set_nationality = {
				character = ITA_giovanni_marinelli
				target_country = ITA
			}
			set_nationality = {
				character = ITA_gian_galeazzo_ciano
				target_country = ITA
			}
			set_nationality = {
				character = ITA_roberto_farinacci
				target_country = ITA
			}
			set_nationality = {
				character = ITA_serafino_mazzolini
				target_country = ITA
			}
			set_nationality = {
				character = ITA_giacomo_acerbo
				target_country = ITA
			}
			set_nationality = {
				character = ITA_giovanni_gentile
				target_country = ITA
			}
			set_nationality = {
				character = ITA_luigi_longo
				target_country = ITA
			}
		}
		
		###setup other country###
		
		#recruit characters
		hidden_effect = {
			#unit leaders
			set_nationality = {
				character = ITA_emilio_de_bono
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_italo_balbo
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_rodolfo_graziani
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_cesare_maria_de_vecchi
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_annibale_bergonzoli
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_gastone_gambara
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_junio_valerio_borghese
				target_country = event_target:fascist_italy_civil_war
			}
			#advisors
			set_nationality = {
				character = ITA_carlo_scorza
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_giovanni_marinelli
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_gian_galeazzo_ciano
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_roberto_farinacci
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_serafino_mazzolini
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_giacomo_acerbo
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_giovanni_gentile
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_enzo_emilio_galbiati
				target_country = event_target:fascist_italy_civil_war
			}
			#country leaders
			set_nationality = {
				character = ITA_benito_mussolini
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_luigi_longo
				target_country = event_target:fascist_italy_civil_war
			}
			set_nationality = {
				character = ITA_ferruccio_parri
				target_country = event_target:fascist_italy_civil_war
			}
		}
		
		random_other_country = {
				limit = {
					original_tag = ITA
					has_government = fascism
				}
				
				promote_character = ITA_benito_mussolini
				
				promote_character = ITA_ferruccio_parri
				set_party_name = { ideology = democratic long_name = giustizia_e_liberta name = giustizia_e_liberta }
				
				#ITA_luigi_longo = {
				#	add_country_leader_role = {
				#		country_leader = {
				#			ideology = leninism
				#			expire = "1965.1.1.1"
				#			traits = { veteran_communist }
				#		}
				#		promote_leader = yes
				#	}
				#}
				set_party_name = { ideology = communism long_name = brigate_garibaldi name = brigate_garibaldi }
				
			
				ITA_rodolfo_graziani = {
					add_country_leader_role = {
						country_leader = {
							ideology = despotism
							expire = "1965.1.1.1"
							traits = {}
						}
						promote_leader = yes
					}
				}
				set_party_name = { ideology = neutrality long_name = military_faction_party name = military_faction_party }
				
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
				
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
				
				add_popularity = {
					ideology = neutrality
					popularity = 0.07
				}
				
				load_focus_tree = {
					tree = italian_focus
					keep_completed = no
				}
				
				unlock_national_focus = ITA_ethiopian_war
				unlock_national_focus = ITA_ethiopian_victory
				unlock_national_focus = ITA_remove_king
				
				set_country_flag = ITA_enzo_emilio_galbiati_flag
				set_country_flag = rodolfo_graziani_army_chief
				set_country_flag = ITA_fascist_cv
				
				set_cosmetic_tag = ITA_rep
				
				add_timed_idea = { idea = purging_old_regime days = 1460 }
				
				IF = {
					limit = { has_idea = victor_emmanuel }
					remove_ideas = victor_emmanuel
				}
				IF = {
					limit = { has_idea = umberto_ii }
					remove_ideas = umberto_ii
				}
		}
		
		###setup italy###
		
		promote_character = ITA_cln
		set_party_name = { ideology = democratic long_name = cln_party_long name = cln_party }
		
		set_politics = {
			ruling_party = democratic
			elections_allowed = no
		}
		
		set_country_flag = ITA_civil_war_d
		
		news_event = { days = 1 id = italymod.news.6 }
		
	}
}

#"Monarchy Referendum"



#italymod.event.8

#italymod.event.9

#italymod.event.10

#italymod.event.11

#italymod.event.12

#italymod.event.13

# End of Fascism - random event generator
country_event = {
	id = italymod.event.14
	
	is_triggered_only = yes

	hidden = yes

	immediate = {
		IF = {
			limit = {
				has_idea = ITA_end_fascism_idea
			}
			random_list = {
				35 = { 
					modifier = {
						factor = 0
						has_country_flag = ITA_brigate_garibaldi
					}
					country_event = { id = italymod.event.15 }
				}
				35 = { 
					modifier = {
						factor = 0
						has_country_flag = ITA_giustizia_e_libert√†
					}
					country_event = { id = italymod.event.16 }
				}
				10 = { 
					country_event = { id = italymod.event.17 }
				}
				10 = { 
					country_event = { id = italymod.event.18 }
				}
				10 = { 
					country_event = { id = italymod.event.19 }
				}
			}
		}
	}
}

#"The formation of the 'Brigate Garibaldi'"
country_event = {
	id = italymod.event.15
	title = italymod.event.15.t
	desc = italymod.event.15.desc
	picture = GFX_brigate_garibaldi
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.event.15.a #"The reds are always annoying."
		add_stability = -0.025
		add_popularity = {
			ideology = communism
			popularity = 0.025
		}
		set_country_flag = ITA_brigate_garibaldi
		hidden_effect = { country_event = { id = italymod.event.14 days = 40 random_days = 10 } }
	}
}

#"The formation of the 'Brigate Giustizia e Libert√†'"
country_event = {
	id = italymod.event.16
	title = italymod.event.16.t
	desc = italymod.event.16.desc
	picture = GFX_giallisti
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.event.16.a #"Those goddamn liberals haven't got enough?"
		add_stability = -0.025
		add_popularity = {
			ideology = democratic
			popularity = 0.025
		}
		set_country_flag = ITA_giustizia_e_libert√†
		hidden_effect = { country_event = { id = italymod.event.14 days = 40 random_days = 10 } }
	}
}

#"Formation of an autonomous partisan group"
country_event = {
	id = italymod.event.17
	title = italymod.event.17.t
	desc = italymod.event.17.desc
	picture = GFX_partigiani
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.event.17.a #"Another fly to crush."
		add_stability = -0.025
		add_popularity = {
			ideology = fascism
			popularity = -0.025
		}
		hidden_effect = { country_event = { id = italymod.event.14 days = 40 random_days = 10 } }
	}
}

#"Attack from partisans succeeded"
country_event = {
	id = italymod.event.18
	title = italymod.event.18.t
	desc = italymod.event.18.desc
	picture = GFX_partigiani
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		random_owned_state = {
			limit = {
				is_core_of = ITA
			}
			damage_building = {
				type = industrial_complex
				damage = 0.5
			}
			damage_building = {
				type = arms_factory
				damage = 0.5
			}
			damage_building = {
				type = infrastructure
				damage = 0.5
			}
		}
		name = italymod.event.18.a #"Goddamn!"
		add_popularity = {
			ideology = fascism
			popularity = -0.025
		}
		
		hidden_effect = { country_event = { id = italymod.event.14 days = 40 random_days = 10 } }
	}
}

#"Partisans captured"
country_event = {
	id = italymod.event.19
	title = italymod.event.19.t
	desc = italymod.event.19.desc
	picture = GFX_partigiani
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		add_stability = 0.05
		name = italymod.event.19.a #"Excelent."
		add_popularity = {
			ideology = fascism
			popularity = 0.025
		}
		
		hidden_effect = { country_event = { id = italymod.event.14 days = 40 random_days = 10 } }
	}
}

#"The Abdication of Victor Emmanuel III"
country_event = {
	id = italymod.event.20
	title = italymod.event.20.t
	desc = italymod.event.20.desc
	picture = GFX_victor_emmanuel_III
	
	trigger = {
		tag = ITA
		focus_progress = {
			focus = ITA_referendum
			progress > 0.01
		}
		has_idea = victor_emmanuel
	}
	
	fire_only_once = yes

	mean_time_to_happen = { days = 7 }
	
	immediate = { 
		hidden_effect = {
			set_country_flag = ITA_falcone_lucifero_flag
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.event.20.a #"Long live to the king!"
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		remove_ideas = victor_emmanuel
		retire_character = ITA_victor_emmanuel_iii
		add_ideas = umberto_ii
	}
}

#"The Fate of the Kingdom"
country_event = {
	id = italymod.event.21
	title = italymod.event.21.t
	desc = italymod.event.21.desc
	picture = GFX_ITA_king_parlament
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.event.21.a #"Victor Emmanuel is the legitimate king."
		
		promote_character = ITA_victor_emmanuel_iii
		IF = {
			limit = { has_idea = victor_emmanuel }
			remove_ideas = victor_emmanuel
		}
		
		add_popularity = {
			ideology = neutrality
			popularity = 0.1
		}
		
		add_stability = -0.05
	}
	
	option = {
		trigger = {
		}
		name = italymod.event.21.b #"The Soldier King must leave. Long live to Umberto II!"
		
		retire_character = ITA_victor_emmanuel_iii
		promote_character = ITA_umberto_ii
		IF = {
			limit = { has_idea = victor_emmanuel }
			remove_ideas = victor_emmanuel
		}
		IF = {
			limit = { has_idea = umberto_ii }
			remove_ideas = umberto_ii
		}
		add_popularity = {
			ideology = fascism
			popularity = -0.05
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
}

#TODO
country_event = {
	id = italymod.event.22
	title = "The Proclamation of AOI"
	desc = italymod.event.22.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	fire_only_once = yes

	mean_time_to_happen = { }
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = "Establish a Viceroyality."
		
	}
	
	option = {
		trigger = {
		}
		name = "It is better to control the territory directly"
		
	}
}

#Togliatti Assassination generator


#"Attempt on Togliatti life!"
country_event = {
	id = italymod.event.24
	title = italymod.event.24.t
	desc = italymod.event.24.desc
	picture = GFX_ITA_attentato_togliatti
	
	is_triggered_only = yes
	
	fire_only_once = yes

	mean_time_to_happen = { }
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.event.24.a #"The worst has been avoided."
		
	}
}


add_namespace = italymod.election

#"The New Government of [THIS.GetNameDef]"

#"Parliament discusses about the government's budget"

#"A Trembling in the Majority"

#"Strikes"

#"Majority divided on a law"
country_event = {
	id = italymod.election.6
	title = italymod.election.6.t
	desc = italymod.election.6.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.election.6.a #"The law must be passed. We have to force the majority to vote it."
		
		ai_chance = {
			base = 20
			modifier = {
				factor = 2				
				has_idea = ITA_centrism
			}
		}
		
		add_political_power = -150
	}
	option = {
		trigger = {
		}
		name = italymod.election.6.b #"Abandon the law, we have more important issues."
		
		ai_chance = {
			base = 20
		}
		
		add_stability = -0.025
	}
	
	option = {
		trigger = {
		}
		name = italymod.election.6.c #"We have to seek the support of the parties outside the majority."
		
		ai_chance = {
			base = 20
			modifier = {
				factor = 2				
				has_idea = ITA_centre_left
			}
			modifier = {
				factor = 2				
				has_idea = ITA_centre_right
			}
		}
		
		add_political_power = 10
		add_popularity = {
			ideology = democratic
			popularity = -0.025
		}
	}
}

#"Minister criticised
country_event = {
	id = italymod.election.7
	title = "Minister criticised"
	desc = italymod.election.7.desc
	picture = GFX_report_event_generic_parliament
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.election.7.a #"We should support our minister."
		
		ai_chance = {
			base = 20
		}
		
		add_political_power = -50
		add_stability = -0.025
	}
	option = {
		trigger = {
		}
		name = italymod.election.7.b #"He should resign his position."
		
		ai_chance = {
			base = 20
		}
		
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
	}
}

country_event = {
	id = italymod.election.8
	
	is_triggered_only = yes

	hidden = yes

	immediate = {
		IF = {
			limit = {
				has_government = democratic
			}
			random_list = {
				20 = { 
					modifier = {
						factor = 0.5
						democratic > 0.6
					}
					country_event = { id = italymod.election.3 }
					country_event = { id = italymod.election.8 days = 180 random_days = 30 }
				}
				5 = { 
					modifier = {
						factor = 2
						has_war = yes
					}
					modifier = {
						factor = 0
						OR = {
							has_idea = ITA_concession_to_workers
							has_idea = FRA_factory_strikes
						}
					}
					country_event = { id = italymod.election.4 }
					country_event = { id = italymod.election.8 days = 180 random_days = 30 }
				}
				15 = { 
					country_event = { id = italymod.election.5 }
					country_event = { id = italymod.election.8 days = 180 random_days = 30 }
				}
				15 = { 
					country_event = { id = italymod.election.6 }
					country_event = { id = italymod.election.8 days = 180 random_days = 30 }
				}
				15 = { 
					country_event = { id = italymod.election.7 }
					country_event = { id = italymod.election.8 days = 180 random_days = 30 }
				}
				25 = { 
					country_event = { id = italymod.election.8 days = 180 random_days = 30 }
				}
			}
		}
	}
}

#"The Italian Elections of [GETYEAR]"


add_namespace = italymod.pci

#"The V PCI Congress"
country_event = {
	id = italymod.pci.1
	title = italymod.pci.1.t
	desc = italymod.pci.1.desc
	picture = GFX_pci_congress
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.pci.1.a #"Let the congress begin"
		
		set_variable  = {
			var = ITA_congress_centre
			value = 0
		}
		set_variable  = {
			var = ITA_congress_stalinism
			value = 0
		}
		set_variable  = {
			var = ITA_congress_left
			value = 0
		}
		set_variable  = {
			var = ITA_congress_socialism
			value = 0
		}
		
		country_event = { id = italymod.pci.2 days = 2 }
	}
}

#"The Party Structure"
country_event = {
	id = italymod.pci.2
	title = italymod.pci.2
	desc = italymod.pci.2.desc
	picture = GFX_pci_congress
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.2.a #"We support a centralized party."
		
		add_to_variable  = {
			var = ITA_congress_centre
			value = 1
		}
		add_to_variable  = {
			var = ITA_congress_left
			value = 1
		}
		
		hidden_effect = {
			country_event = { id = italymod.pci.3 days = 1 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.2.b #"We prefer a strong secretary."

		add_to_variable  = {
			var = ITA_congress_stalinism
			value = 1
		}

		hidden_effect = {
			country_event = { id = italymod.pci.3 days = 1 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.2.c #"We believe in empowering the trade unions."

		add_to_variable  = {
			var = ITA_congress_socialism
			value = 1
		}

		hidden_effect = {
			country_event = { id = italymod.pci.3 days = 1 }
		}
	}
}

#"Union with Socialist?"
country_event = {
	id = italymod.pci.3
	title = italymod.pci.3.t
	desc = italymod.pci.3.desc
	picture = GFX_pci_congress
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.3.a #"We should continue the dialogue with the socialists."
		
		add_to_variable  = {
			var = ITA_congress_socialism
			value = 1
		}
		add_to_variable  = {
			var = ITA_congress_centre
			value = 1
		}
		
		set_country_flag = ITA_socialist_dialogue_flag
		
		hidden_effect = {
			country_event = { id = italymod.pci.4 days = 1 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.3.b #"The socialists are too moderate, we have to continue alone."

		add_to_variable  = {
			var = ITA_congress_stalinism
			value = 1
		}
		add_to_variable  = {
			var = ITA_congress_left
			value = 1
		}
		add_to_variable  = {
			var = ITA_congress_centre
			value = 1
		}

		hidden_effect = {
			country_event = { id = italymod.pci.4 days = 1 }
		}
	}
}

#"The Democracy question"
country_event = {
	id = italymod.pci.4
	title = italymod.pci.4.t
	desc = italymod.pci.4.desc
	picture = GFX_pci_congress
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.4.a #"Allow some minors elections."
		
		add_to_variable  = {
			var = ITA_congress_centre
			value = 1
		}
		add_to_variable  = {
			var = ITA_congress_left
			value = 1
		}
		
		set_country_flag = ITA_communist_elect_leader_flag
		
		hidden_effect = {
			country_event = { id = italymod.pci.5 days = 1 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.4.b #"Everything will be put under the direct control of the party."

		add_to_variable  = {
			var = ITA_congress_stalinism
			value = 1
		}

		hidden_effect = {
			country_event = { id = italymod.pci.5 days = 1 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.4.c #"Everything in the party will be decided by democracy."

		add_to_variable  = {
			var = ITA_congress_socialism
			value = 1
		}

		set_country_flag = ITA_communist_elect_leader_flag

		set_politics = {
			ruling_party = communism
			elections_allowed = yes
		}

		hidden_effect = {
			country_event = { id = italymod.pci.5 days = 1 }
		}
	}
}

#"The Future of the colonies"
country_event = {
	id = italymod.pci.5
	title = italymod.pci.5.t
	desc = italymod.pci.5.desc
	picture = GFX_pci_congress
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.5.a #"They are part of the Italian Union."
		
		add_to_variable  = {
			var = ITA_congress_stalinism
			value = 1
		}
		
		add_stability = -0.1
		
		hidden_effect = {
			country_event = { id = italymod.pci.6 days = 1 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.5.b #"We will decolonize."

		add_to_variable  = {
			var = ITA_congress_socialism
			value = 1
		}

		every_state = {
			limit = {
				is_core_of = LBA
				is_fully_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
			LBA = { transfer_state = PREV }
		}
		IF = {
			limit = {
				OR = {
					owns_state = 271
					ETH = { is_puppet_of = ITA }
				}
			}
			every_state = {
				limit = {
					is_core_of = ETH
					is_fully_controlled_by = ROOT
					NOT = { is_core_of = ROOT }
				}
				ETH = { transfer_state = PREV }
			}
			IF = {
				limit = {
					550 = { is_owned_and_controlled_by = ITA }
				}
				ETH = { 
					transfer_state = 550 
				}
			}
			IF = {
				limit = {
					550 = { is_owned_and_controlled_by = ITA }
				}
				ETH = { 
					transfer_state = 559 
				}
			}
		}
		ELSE = {
			every_state = {
				limit = {
					is_core_of = ERI
					is_fully_controlled_by = ROOT
					NOT = { is_core_of = ROOT }
				}
				ERI = { transfer_state = PREV }
			}
			every_state = {
				limit = {
					is_core_of = SOM
					is_fully_controlled_by = ROOT
					NOT = { is_core_of = ROOT }
				}
				SOM = { transfer_state = PREV }
			}
		}
		hidden_effect = {
			country_event = { id = italymod.pci.6 days = 1 }
		}
		
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.5.c #"They will be free, but under our direction."
		
		add_to_variable  = {
			var = ITA_congress_centre
			value = 1
		}
		add_to_variable  = {
			var = ITA_congress_left
			value = 1
		}
		
		add_stability = -0.025
		
		#LBA
		IF = {
			limit = {
				any_owned_state = {
					is_core_of = LBA
				}
			}
			set_temp_variable = { country_to_initiate = LBA }
			instantiate_collaboration_government = yes
		}
		
		#ETH
		IF = {
			limit = {
				any_owned_state = {
					is_core_of = ETH
				}
			}
			set_temp_variable = { country_to_initiate = ETH }
			instantiate_collaboration_government = yes
			
			IF = {
				limit = {
					550 = { is_owned_and_controlled_by = ROOT }
				}
				random_other_country = {
					limit = {
						original_tag = ETH
						is_puppet_of = ROOT
					}
					transfer_state = 550
				}
			}
			
			IF = {
				limit = {
					559 = { is_owned_and_controlled_by = ROOT }
				}
				random_other_country = {
					limit = {
						original_tag = ETH
						is_puppet_of = ROOT
					}
					transfer_state = 559
				}
			}
		}
		ELSE = {
			
			#ERI
			IF = {
				limit = {
					any_owned_state = {
						is_core_of = ERI
					}
				}
				set_temp_variable = { country_to_initiate = ERI }
				instantiate_collaboration_government = yes
			}
			
			#SOM
			IF = {
				limit = {
					any_owned_state = {
						is_core_of = SOM
					}
				}
				set_temp_variable = { country_to_initiate = SOM }
				instantiate_collaboration_government = yes
			}
		}

		hidden_effect = {
			country_event = { id = italymod.pci.6 }
		}
	}
}

#"The fate of Pope and the Church"
country_event = {
	id = italymod.pci.6
	title = italymod.pci.6.t
	desc = italymod.pci.6.desc
	picture = GFX_pci_congress
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.6.a #"Allow the Pope and the Church to stay, but under the party control."
		
		add_to_variable  = {
			var = ITA_congress_centre
			value = 1
		}
		
		hidden_effect = {
			country_event = { days = 1 id = italymod.pci.7 days = 1  }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.6.b #"Free Church in Free State. We will secularize the state."
		
		add_to_variable  = {
			var = ITA_congress_socialism
			value = 1
		}
		
		hidden_effect = {
			country_event = { days = 1 id = italymod.pci.7 days = 1  }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.pci.6.c #"The Pope will be exiled from Italy and the Church institution dismantled."
		
		add_to_variable  = {
			var = ITA_congress_stalinism
			value = 1
		}
		add_to_variable  = {
			var = ITA_congress_left
			value = 1
		}
		
		hidden_effect = {
			country_event = { days = 1 id = italymod.pci.7 days = 1  }
		}
	}
}

#"The Secretary of the Party"
country_event = {
	id = italymod.pci.7
	title = italymod.pci.7.t
	desc = italymod.pci.7.desc
	picture = GFX_pci_congress
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			IF = {
				limit = {
					has_country_flag = ITA_communist_elect_leader_flag
				}
				country_event = { days = 1 id = italymod.pci.8 days = 1825  }
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				has_global_flag = ITA_togliatti_dead
			}
			OR = {
				check_variable = { ITA_congress_centre > 4 }
				AND = {
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_left
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_stalinism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_socialism
						compare = greater_than_or_equals
					}
				}
			}
		}
		name = italymod.pci.7.a #"Palmiro Togliatti"
		ai_chance = {
			base = 40
			modifier = {
				factor = 2			
				AND = {
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_left
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_stalinism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_socialism
						compare = greater_than_or_equals
					}
				}
			}
			modifier = {
				factor = 2
				has_country_leader = {
					character = ITA_palmiro_togliatti
					ruling_only  = yes
				}
			}
		}
		
		IF = {
			limit = {
				NOT = {
					has_country_leader = {
						character = ITA_palmiro_togliatti
						ruling_only  = yes
					}
				}
			}
			promote_character = ITA_palmiro_togliatti
		}
		
		hidden_effect = {
			IF = {
				limit = {
					NOT = { has_country_flag = ITA_end_pci_congress }
				}
				news_event = { days = 1 id = italymod.news.7 days = 2 }
				set_country_flag = ITA_end_pci_congress
			}
		}
	}
	
	option = {
		trigger = {
			has_global_flag = ITA_togliatti_dead
			OR = {
				check_variable = { ITA_congress_centre > 4 }
				AND = {
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_left
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_stalinism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_socialism
						compare = greater_than_or_equals
					}
				}
			}
		}
		name = italymod.pci.7.b #"Luigi Longo"
		ai_chance = {
			base = 40
			modifier = {
				factor = 2			
				AND = {
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_left
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_stalinism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_centre
						value = ITA_congress_socialism
						compare = greater_than_or_equals
					}
				}
			}
			modifier = {
				factor = 2
				has_country_leader = {
					character = ITA_luigi_longo
					ruling_only  = yes
				}
			}
		}
		
		IF = {
			limit = {
				NOT = {
					has_country_leader = {
						character = ITA_luigi_longo
						ruling_only  = yes
					}
				}
			}
			promote_character = ITA_luigi_longo
		}
		
		hidden_effect = {
			IF = {
				limit = {
					NOT = { has_country_flag = ITA_end_pci_congress }
				}
				news_event = { days = 1 id = italymod.news.7 days = 2 }
				set_country_flag = ITA_end_pci_congress
			}
		}
	}
	
	option = {
		trigger = {
			has_country_flag = ITA_socialist_dialogue_flag
			OR = {
				check_variable = { ITA_congress_socialism > 4 }
				AND = {
					check_variable = {
						var = ITA_congress_socialism
						value = ITA_congress_left
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_socialism
						value = ITA_congress_stalinism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_socialism
						value = ITA_congress_centre
						compare = greater_than_or_equals
					}
				}
			}
		}
		name = italymod.pci.7.c #"Pietro Nenni"
		ai_chance = {
			base = 40
			modifier = {
				factor = 2			
				AND = {
					check_variable = {
						var = ITA_congress_socialism
						value = ITA_congress_left
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_socialism
						value = ITA_congress_stalinism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_socialism
						value = ITA_congress_centre
						compare = greater_than_or_equals
					}
				}
			}
			modifier = {
				factor = 2
				has_country_leader = {
					character = ITA_pietro_nenni
					ruling_only  = yes
				}
			}
		}
		
		IF = {
			limit = {
				NOT = {
					has_country_leader = {
						character = ITA_pietro_nenni
						ruling_only  = yes
					}
				}
			}
			promote_character = ITA_pietro_nenni
			complete_national_focus = ITA_integrate_psi
		}		
		
		hidden_effect = {
			IF = {
				limit = {
					NOT = { has_country_flag = ITA_end_pci_congress }
				}
				news_event = { days = 1 id = italymod.news.7 days = 2 }
				set_country_flag = ITA_end_pci_congress
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				check_variable = { ITA_congress_stalinism > 4 }
				AND = {
					check_variable = {
						var = ITA_congress_stalinism
						value = ITA_congress_left
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_stalinism
						value = ITA_congress_socialism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_stalinism
						value = ITA_congress_centre
						compare = greater_than_or_equals
					}
				}
			}
		}
		name = italymod.pci.7.d #"Pietro Secchia"
		ai_chance = {
			base = 40
			modifier = {
				factor = 2			
				AND = {
					check_variable = {
						var = ITA_congress_stalinism
						value = ITA_congress_left
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_stalinism
						value = ITA_congress_socialism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_stalinism
						value = ITA_congress_centre
						compare = greater_than_or_equals
					}
				}
			}
			modifier = {
				factor = 2
				has_country_leader = {
					character = ITA_pietro_secchia
					ruling_only  = yes
				}
			}
		}
		
		IF = {
			limit = {
				NOT = {
					has_country_leader = {
						character = ITA_pietro_secchia
						ruling_only  = yes
					}
				}
			}
			promote_character = ITA_pietro_secchia
		}
				
		hidden_effect = {
			IF = {
				limit = {
					NOT = { has_country_flag = ITA_end_pci_congress }
				}
				news_event = { days = 1 id = italymod.news.7 days = 2 }
				set_country_flag = ITA_end_pci_congress
			}
		}
	}
	
	option = {
		trigger = {
			NOT = {
				has_global_flag = ITA_gramsci_dead
			}
			OR = {
				check_variable = { ITA_congress_left > 4 }
				AND = {
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_centre
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_stalinism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_socialism
						compare = greater_than_or_equals
					}
				}
			}
		}
		name = italymod.pci.7.e #"Antonio Gramsci"
		ai_chance = {
			base = 40
			modifier = {
				factor = 2			
				AND = {
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_centre
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_stalinism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_socialism
						compare = greater_than_or_equals
					}
				}
			}
			modifier = {
				factor = 2
				has_country_leader = {
					character = ITA_antonio_gramsci
					ruling_only  = yes
				}
			}
		}
		
		IF = {
			limit = {
				NOT = {
					has_country_leader = {
						character = ITA_antonio_gramsci
						ruling_only  = yes
					}
				}
			}
			promote_character = ITA_antonio_gramsci
		}
		
		hidden_effect = {
			IF = {
				limit = {
					NOT = { has_country_flag = ITA_end_pci_congress }
				}
				news_event = { days = 1 id = italymod.news.7 days = 2 }
				set_country_flag = ITA_end_pci_congress
			}
		}
	}
	
	option = {
		trigger = {
			has_global_flag = ITA_gramsci_dead
			OR = {
				check_variable = { ITA_congress_centre > 4 }
				AND = {
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_centre
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_stalinism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_socialism
						compare = greater_than_or_equals
					}
				}
			}
		}
		name = italymod.pci.7.f #"Amadeo Bordiga"
		ai_chance = {
			base = 40
			modifier = {
				factor = 2			
				AND = {
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_centre
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_stalinism
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ITA_congress_left
						value = ITA_congress_socialism
						compare = greater_than_or_equals
					}
				}
			}
			modifier = {
				factor = 2
				has_country_leader = {
					character = ITA_amadeo_bordiga
					ruling_only  = yes
				}
			}
		}
		
		IF = {
			limit = {
				NOT = {
					has_country_leader = {
						character = ITA_amadeo_bordiga
						ruling_only  = yes
					}
				}
			}
			promote_character = ITA_amadeo_bordiga
		}
		
		hidden_effect = {
			IF = {
				limit = {
					NOT = { has_country_flag = ITA_end_pci_congress }
				}
				news_event = { days = 1 id = italymod.news.7 days = 2 }
				set_country_flag = ITA_end_pci_congress
			}
		}
	}
}

#elect new secretary - generator
country_event = {
	id = italymod.pci.8
	
	is_triggered_only = yes

	hidden = yes
	
	immediate = {
		IF = {
			limit = {
				has_government = communism
			}
			country_event = { days = 1 id = italymod.pci.7 days = 1  }
		}
	}
}

add_namespace = italymod.diploevent

#"[From.GetName] require our subjugation"
country_event = {
	id = italymod.diploevent.1
	title = italymod.diploevent.1.t
	desc = italymod.diploevent.1.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.1.a #"We cannot risk a war against them."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = BUL
						is_in_faction_with = BUL
					}
				}
			}
		}
		
		effect_tooltip = {
				ITA = { puppet = BUL }
			}
		ITA = { country_event = italymod.diploevent.2 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.8 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.1.b #"They will have to take our independence by force!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = BUL
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = { 
				create_wargoal = {
					type = puppet_wargoal_focus
					target = BUL
					expire = 0
				}
			}
		}
		ITA = { country_event = italymod.diploevent.3 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.9 }
		}
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.2
	title = italymod.diploevent.2.t
	desc = italymod.diploevent.2.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.2.a #"They have made the best choice."
		puppet = BUL
		random_other_country = {
			limit = {
				original_tag = ROM
				is_in_faction_with = ITA
			}
			country_event = italymod.diploevent.4
		}
		set_country_flag = ITA_bul_subjugate
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.3
	title = italymod.diploevent.3.t
	desc = italymod.diploevent.3.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.3.a #"So they choose war."
		create_wargoal = {
			type = puppet_wargoal_focus
			target = BUL
			expire = 0
		}
		#ai_chance = { factor = 100 }
	}
	
	#option = {
	#	trigger = {
	#	}
	#	name = "Let them go for now."
	#	add_political_power = 100
	#}
}

#"Should we ask control over Bulgaria?"
country_event = {
	id = italymod.diploevent.4
	title = italymod.diploevent.4.t
	desc = italymod.diploevent.4.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.4.a #"Bulgaria is on our sphere of influence."
		ITA = { country_event = italymod.diploevent.5 }
		ai_chance = { factor = 60 }
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.4.b #"It doesn't matter, the Italians are our ally, right?"
		add_political_power = 100
		ai_chance = { factor = 40 }
	}
}

#"[From.GetName] ask control over Bulgaria"


#"[From.GetName] send us an ultimatum"
country_event = {
	id = italymod.diploevent.6
	title = italymod.diploevent.6.t
	desc = italymod.diploevent.6.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.6.a #"Stand down, we can't compare with them."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = YUG
						is_in_faction_with = YUG
					}
				}
			}
		}
		
		effect_tooltip = { 
			ITA = { transfer_state = 102 }
			ITA = { transfer_state = 103 }
		}
		
		ITA = { country_event = italymod.diploevent.7 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.8 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.6.b #"We will fight to the last breath!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = YUG
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					expire = 0
					generator = { 102 103 } 
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.8 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.9 }
		}
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.7
	title = italymod.diploevent.7.t
	desc = italymod.diploevent.7.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.7.a #"Finally the 'Terre Irredente' are ours."
		
		ITA = { transfer_state = 102 }
		ITA = { transfer_state = 103 }
		
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.8
	title = italymod.diploevent.8.t
	desc = italymod.diploevent.8.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.8.a #"So they choose war."
		create_wargoal = {
					type = take_state_focus
					target = YUG
					expire = 0
					generator = { 102 103 } 
				}
	}
}

#country_event = {
#	id = italymod.diploevent.9
#	title = "[From.GetName] require our annexation"
#	desc = italymod.diploevent.9.desc
#	picture = GFX_report_event_generic_sign_treaty1
#	
#	is_triggered_only = yes
#	
#	immediate = {  }
#	
#	option = {
#		trigger = {
#		}
#		name = "We cannot do anything than cede on the Italian requests."
#		
#		ai_chance = {
#			base = 40
#			modifier = {
#				factor = 0				
#				any_other_country = {
#					is_major = yes
#					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
#					OR = {
#						has_guaranteed = SWI
#						is_in_faction_with = SWI
#					}
#				}
#			}
#		}
#		
#		effect_tooltip = { 
#			ITA = { annex = SWI }
#		}
#		
#		ITA = { country_event = italymod.diploevent.10 }
#		hidden_effect = {
#			news_event = { days = 5 id = italymod.news.8 }
#		}
#	}
#	
#	option = {
#		trigger = {
#		}
#		name = "None can take the independence of our confederation!"
#		
#		ai_chance = {
#			factor = 20 
#			modifier = {
#				factor = 0
#				OR = {
#					AND = {
#						is_in_faction_with = ITA
#						ITA = { is_faction_leader = yes }
#					}
#					AND = {
#						is_in_faction = no 
#						NOT = {
#							any_other_country = {
#								NOT = { tag = ITA }
#								has_guaranteed = SWI
#							} 
#						}
#					}
#				}
#			}
#		}
#		
#		effect_tooltip = {
#			ITA = {
#				create_wargoal = {
#					type = annex_everything
#					target = SWI
#					expire = 0
#				}
#			}
#		
#		}
#		
#		ITA = { country_event = italymod.diploevent.11 }
#		hidden_effect = {
#			news_event = { days = 5 id = italymod.news.9 }
#		}
#	}
#}

#country_event = {
#	id = italymod.diploevent.10
#	title = "[From.GetName] accept"
#	desc = italymod.diploevent.10.desc
#	picture = GFX_report_event_generic_sign_treaty1
#	
#	is_triggered_only = yes
#	
#	immediate = {  }
#	
#	option = {
#		trigger = {
#	}
#		name = "Another conquest for Italy."
#		annex_country = { target = SWI transfer_troops = yes }
#		set_country_flag = ITA_annex_switzerland
#		random_other_country = {
#			limit = {
#				original_tag = FRA
#				is_in_faction_with = ITA
#			}
#			country_event = italymod.diploevent.12
#		}
#	}
#}

#country_event = {
#	id = italymod.diploevent.11
#	title = "[From.GetName] refuse"
#	desc = italymod.diploevent.11.desc
#	picture = GFX_report_event_generic_sign_treaty1
#	
#	is_triggered_only = yes
#	
#	immediate = {  }
#	
#	option = {
#		trigger = {
#		}
#		name = "So they choose war."
#		create_wargoal = {
#				type = annex_everything
#				target = SWI
#				expire = 0
#			}
#		ai_chance = { factor = 80 }
#	}
#	
#	option = {
#		trigger = {
#		}
#		name = "Let them go for now."
#		add_political_power = 100
#	}
#}

#country_event = {
#	id = italymod.diploevent.12
#	title = "Demand a partition of Switzerland?"
#	desc = italymod.diploevent.12.desc
#	picture = GFX_report_event_generic_sign_treaty1
#	
#	is_triggered_only = yes
#
#	trigger = {
#	}
#	
#	immediate = {  }
#	
#	option = {
#		trigger = {
#		}
#		name = "We have our claims in those regions."
#		ITA = { country_event = italymod.diploevent.13 }
#		ai_chance = { factor = 60 }
#	}
#	
#	option = {
#		trigger = {
#		}
#		name = "It doesn't matter, there aren't a strategic areas."
#		add_political_power = 100
#		ai_chance = { factor = 40 }
#	}
#}

#country_event = {
#	id = italymod.diploevent.13
#	title = "[From.GetName] ask a partition of Switzerland"
#	desc = italymod.diploevent.13.desc
#	picture = GFX_report_event_generic_sign_treaty1
#	
#	is_triggered_only = yes
#	
#	immediate = {  }
#	
#	option = {
#		trigger = {
#		}
#		name = "Yes, we're pleasure to share the victorys with our allies."
#		random_other_country = {
#				limit = {
#					original_tag = FRA
#				}
#				transfer_state = 3
#		}
#	}
#	
#	option = {
#		trigger = {
#		}
#		name = "No, they have to learn their position."
#		random_other_country = {
#				limit = {
#					original_tag = FRA
#					is_in_faction_with = ITA
#				}
#				
#		}
#	}
#}

#"[From.GetName] require our subjugation"
country_event = {
	id = italymod.diploevent.14
	title = italymod.diploevent.14.t
	desc = italymod.diploevent.14.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.14.a #"We cannot risk a war against them."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = POR
						is_in_faction_with = POR
					}
				}
			}
		}
		
		effect_tooltip = { 
			ITA = { puppet = POR }
		}
		
		ITA = { country_event = italymod.diploevent.15 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.8 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.14.b #"They will have to take our independence by force!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = POR
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = POR
					expire = 0
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.16 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.9 }
		}
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.15
	title = italymod.diploevent.15.t
	desc = italymod.diploevent.15.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.15.a #"They have made the best choice."
		puppet = POR
		random_other_country = {
			limit = {
				original_tag = SPR
				is_in_faction_with = ITA
			}
			country_event = italymod.diploevent.17
		}
		set_country_flag = ITA_por_subjugate
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.16
	title = italymod.diploevent.16.t
	desc = italymod.diploevent.16.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.16.a #"So they choose war."
		create_wargoal = {
				type = puppet_wargoal_focus
				target = POR
				expire = 0
			}
		#ai_chance = { factor = 80 }
	}
	
	#option = {
	#	trigger = {
	#	}
	#	name = "Let them go for now."
	#	add_political_power = 100
	#}
}

#"Should we ask control over Portugal?"
country_event = {
	id = italymod.diploevent.17
	title = italymod.diploevent.17.t
	desc = italymod.diploevent.17.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes

	trigger = {
	}
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.17.a #"Portugal is on our sphere of influence."
		ITA = { country_event = italymod.diploevent.18 }
		ai_chance = { factor = 60 }
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.17.b #"It doesn't matter, Italy is our ally, right?"
		add_political_power = 100
		ai_chance = { factor = 40 }
	}
}

#"[From.GetName] ask control over Portugal"
country_event = {
	id = italymod.diploevent.18
	title = italymod.diploevent.18.t
	desc = italymod.diploevent.18.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.18.a #"Yes, we're pleasure to share the victorys with our allies."
		
		every_state = {
			limit = {
				NOT = { is_core_of = POR }
				is_owned_and_controlled_by = POR
			}
			ITA = {
				transfer_state = PREV
			}
		}
		random_other_country = {
				limit = {
					original_tag = SPR
				}
				country_event = italymod.diploevent.93
				puppet = POR		
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.18.b #"No, they have to learn their position."
		random_other_country = {
				limit = {
					original_tag = SPR
					is_in_faction_with = ITA
				}
				country_event = italymod.diploevent.94
				
		}
	}
}

#"[ITA.GetName] submit our requests"
country_event = {
	id = italymod.diploevent.93
	title = italymod.diploevent.93.t
	desc = italymod.diploevent.93.desc
 
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		name = italymod.diploevent.93.a #"Excellent."
		custom_effect_tooltip = ITA_agree_land_tt
	}
}

#"[ITA.GetName] rejects our requests"
country_event = {
	id = italymod.diploevent.94
	title = italymod.diploevent.94.t
	desc = italymod.diploevent.94.desc
 
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		ai_chance = { factor = 25 }
		name = italy.14.a
		FROM = { 
			remove_from_faction = THIS 
			country_event = italymod.diploevent.95
		}
	}

	option = {
		ai_chance = { factor = 75 }
		name = italy.14.b

	}
}

#"[FROM.GetName] leave [THIS.GetFactionName]"
country_event = {
	id = italymod.diploevent.95
	title = italymod.diploevent.95.t
	desc = italymod.diploevent.95.desc
	picture = GFX_report_event_german_italian_pact
	
	is_triggered_only = yes
	
	option = { 
		name = germany.105.a		
	}
}

#"[From.GetName] demand territorial renegotiation"
country_event = {
	id = italymod.diploevent.19
	title = italymod.diploevent.19.t
	desc = italymod.diploevent.19.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.19.a #"We can't hope to stand against them."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = YUG
						is_in_faction_with = YUG
					}
				}
			}
		}
		
		effect_tooltip = { 
			IF = {
				limit = {
					YUG = { controls_state = 103 }
				}
				ITA = { transfer_state = 103 }
			}
			IF = {
				limit = {
					YUG = { controls_state = 102 }
					AUS = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				AUS = { transfer_state = 102 }
			}
			ELSE = {
				IF = {
					limit = {
						YUG = { controls_state = 102 }
					}
					ITA = { transfer_state = 102 }
				}
			}
			IF = {
				limit = {
					YUG = { controls_state = 105 }
					ITA = {
						OR = {
							has_idea = victor_emmanuel
							has_idea = umberto_ii
							has_country_leader = {
								name = "Victor Emmanuel III"
								ruling_only = yes
							}
							has_country_leader = {
								name = "Umberto II"
								ruling_only = yes
							}
						}
					}
				}
				ITA = { transfer_state = 105 }
			}
			
			IF = {
				limit = {
					YUG = { controls_state = 45 }
					HUN = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				HUN = { transfer_state = 45 }
			}
			IF = {
				limit = {
					YUG = { controls_state = 764 }
					HUN = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				HUN = { transfer_state = 764 }
			}
			
			IF = {
				limit = {
					YUG = { controls_state = 106 }
					BUL = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				BUL = { transfer_state = 106 }
			}
			IF = {
				limit = {
					YUG = { controls_state = 803 }
					BUL = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				BUL = { transfer_state = 803 }
			}
		}
		
		ITA = { country_event = italymod.diploevent.20 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.8 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.19.b #"Never!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = YUG
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = take_claimed_state
					target = YUG
					expire = 0
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.21 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.9 }
		}
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.20
	title = italymod.diploevent.20.t
	desc = italymod.diploevent.20.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.20.a #"Excelent."
		IF = {
			limit = {
				YUG = { controls_state = 103 }
			}
			ITA = { transfer_state = 103 }
		}
		IF = {
			limit = {
				YUG = { controls_state = 102 }
				AUS = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			AUS = { country_event = italymod.diploevent.79 }
			effect_tooltip = {
				AUS = { transfer_state = 102 }
			}
		}
		ELSE = {
			IF = {
				limit = {
					YUG = { controls_state = 102 }
				}
				ITA = { transfer_state = 102 }
			}
		}
		IF = {
			limit = {
				YUG = { controls_state = 105 }
				ITA = {
					OR = {
						has_idea = victor_emmanuel
						has_idea = umberto_ii
						has_country_leader = {
							name = "Victor Emmanuel III"
							ruling_only = yes
						}
						has_country_leader = {
							name = "Umberto II"
							ruling_only = yes
						}
					}
				}
			}
			ITA = { transfer_state = 105 }
		}
		
		IF = {
			limit = {
				HUN = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			HUN = { country_event = italymod.diploevent.79 }
		}
		IF = {
			limit = {
				YUG = { controls_state = 45 }
				HUN = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				HUN = { transfer_state = 45 }
			}
		}
		IF = {
			limit = {
				YUG = { controls_state = 764 }
				HUN = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				HUN = { transfer_state = 764 }
			}
		}
		
		IF = {
			limit = {
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			BUL = { country_event = italymod.diploevent.79 }
		}
		IF = {
			limit = {
				YUG = { controls_state = 106 }
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				BUL = { transfer_state = 106 }
			}
		}
		IF = {
			limit = {
				YUG = { controls_state = 803 }
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				BUL = { transfer_state = 803 }
			}
		}
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.21
	title = italymod.diploevent.21.t
	desc = italymod.diploevent.21.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.21.a #"We will strike them down."
		create_wargoal = {
					type = take_claimed_state
					target = YUG
					expire = 0
				}
	}
}

#"[From.GetName] demand territorial renegotiation"
country_event = {
	id = italymod.diploevent.22
	title = italymod.diploevent.22.t
	desc = italymod.diploevent.22.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.22.a #"We can't hope to stand against them."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = ROM
						is_in_faction_with = ROM
					}
				}
			}
		}
		
		effect_tooltip = { 
			IF = {
				limit = {
					ROM = { controls_state = 82 }
					HUN = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				HUN = { transfer_state = 82 }
			}
			IF = {
				limit = {
					ROM = { controls_state = 84 }
					HUN = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				HUN = { transfer_state = 84 }
			}
			IF = {
				limit = {
					ROM = { controls_state = 76 }
					HUN = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				HUN = { transfer_state = 76 }
			}
			IF = {
				limit = {
					ROM = { controls_state = 83 }
					HUN = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				HUN = { transfer_state = 83 }
			}
			IF = {
				limit = {
					ROM = { controls_state = 77 }
					BUL = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				BUL = { transfer_state = 77 }
			}
		}
		
		ITA = { country_event = italymod.diploevent.23 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.8 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.22.b #"Never!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = ROM
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROM
					expire = 0
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.24 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.9 }
		}
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.23
	title = italymod.diploevent.23.t
	desc = italymod.diploevent.23.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.23.a #"Excelent."
		IF = {
			limit = {
				HUN = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			HUN = { country_event = italymod.diploevent.80 }
		}
		IF = {
			limit = {
				ROM = { controls_state = 82 }
				HUN = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				HUN = { transfer_state = 82 }
			}
		}
		IF = {
			limit = {
				ROM = { controls_state = 84 }
				HUN = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				HUN = { transfer_state = 84 }
			}
		}
		IF = {
			limit = {
				ROM = { controls_state = 76 }
				HUN = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				HUN = { transfer_state = 76 }
			}
		}
		IF = {
			limit = {
				ROM = { controls_state = 83 }
				HUN = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				HUN = { transfer_state = 83 }
			}
		}
		
		IF = {
			limit = {
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			BUL = { country_event = italymod.diploevent.80 }
		}
		IF = {
			limit = {
				ROM = { controls_state = 77 }
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				BUL = { transfer_state = 77 }
			}
		}
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.24
	title = italymod.diploevent.24.t
	desc = italymod.diploevent.24.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.24.a #"We will strike them down."
		create_wargoal = {
					type = puppet_wargoal_focus
					target = ROM
					expire = 0
				}
	}
}

#"[From.GetName] demand our annexation"
country_event = {
	id = italymod.diploevent.25
	title = italymod.diploevent.25.t
	desc = italymod.diploevent.25.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.25.a #"We can't hope to stand against them."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = GRE
						is_in_faction_with = GRE
					}
				}
			}
		}
		
		effect_tooltip = { 
			IF = {
				limit = {
					GRE = { controls_state = 184 }
					BUL = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				BUL = { transfer_state = 184 }
			}
			IF = {
				limit = {
					GRE = { controls_state = 731 }
					BUL = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				BUL = { transfer_state = 731 }
			}
			ITA = { annex_country = { target = GRE transfer_troops = yes } }
		}
		
		ITA = { country_event = italymod.diploevent.26 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.8 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.25.b #"Never!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = GRE
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = take_state_focus
					target = GRE
					expire = 0
					generator = { 47 } # Athens
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.27 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.9 }
		}
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.26
	title = italymod.diploevent.26.t
	desc = italymod.diploevent.26.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.26.a #"Excelent."
		IF = {
			limit = {
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			BUL = { country_event = italymod.diploevent.81 }
		}
		IF = {
			limit = {
				GRE = { controls_state = 184 }
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				BUL = { transfer_state = 184 }
			}
		}
		IF = {
			limit = {
				GRE = { controls_state = 731 }
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				BUL = { transfer_state = 731 }
			}
		}
		ITA = { annex_country = { target = GRE } }
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.27
	title = italymod.diploevent.27.t
	desc = italymod.diploevent.27.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.27.a #"We will strike them down."
		create_wargoal = {
				type = take_state_focus
				target = GRE
				expire = 0
				generator = { 47 } # Athens
			}
	}
}

#"[From.GetName] request the throne of Spain"
country_event = {
	id = italymod.diploevent.28
	title = italymod.diploevent.28.t
	desc = italymod.diploevent.28.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.28.a #"We're glad to accept a Savoy on our throne."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		
		#TODO: not working proprely, use the old & good create_country_leader instead
		#save_event_target_as = ita_amedeo_aosta_nationality
		#set_nationality = {
		#	character = ITA_amedeo_ii
		#	target_country = event_target:ita_amedeo_aosta_nationality
		#}
		#promote_character = ITA_amedeo_ii
		#set_party_name = { ideology = neutrality long_name = "Royalists" name = "Royalists" }
		
		create_country_leader = {
			name = "amedeo_ii"
			desc = "POLITICS_BENITO_MUSSOLINI_DESC"
			picture = "gfx/leaders/ITA/Portrait_Italy_Amadeo_Aosta.dds"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
			}
		}
		
		effect_tooltip = { 
			ITA = { add_to_faction = ROOT }
		}
		
		ITA = { country_event = italymod.diploevent.29 }
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.28.b #"Never!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = ROOT
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = topple_government
					target = ROOT
					expire = 0
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.30 }
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.29
	title = italymod.diploevent.29.t
	desc = italymod.diploevent.29.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.29.a #"Excelent."
		IF = {
			limit = {
				is_in_faction = no
			}
			create_faction = ITA_generic_faction
		}
		add_to_faction = FROM
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.30
	title = italymod.diploevent.30.t
	desc = italymod.diploevent.30.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.30.a #"We will strike them down."
		create_wargoal = {
			type = topple_government
			target = FROM
			expire = 0
		}
	}
}

#"[From.GetName] demand Montenegro"
country_event = {
	id = italymod.diploevent.31
	title = italymod.diploevent.31.t
	desc = italymod.diploevent.31.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
			tag = MNT
		}
		name = italymod.diploevent.31.a #"We're glad to accept a Savoy on our throne."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		
		#TODO: not working proprely, use the old & good create_country_leader instead
		#save_event_target_as = ita_michael_i_nationality
		#set_nationality = {
		#	character = ITA_michael_i
		#	target_country = event_target:ita_michael_i_nationality
		#}
		#promote_character = ITA_michael_i
		
		create_country_leader = {
			name = "michael_i"
			desc = "POLITICS_BENITO_MUSSOLINI_DESC"
			picture = "gfx/leaders/ITA/Portrait_MTN_Mihailo.dds"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
			}
		}
		
		set_party_name = { ideology = neutrality long_name = royalists_party name = royalists_party }
		effect_tooltip = { 
			ITA = { puppet = ROOT }
		}
		
		ITA = { country_event = italymod.diploevent.32 }
	}
	
	option = {
		trigger = {
			NOT = { tag = MNT }
		}
		name = italymod.diploevent.31.b #"They can take these useless mountains if they really desire..."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		MNT = {
			transfer_state = 105
			create_country_leader = {
				name = "michael_i"
				desc = "POLITICS_BENITO_MUSSOLINI_DESC"
				picture = "gfx/leaders/ITA/Portrait_MTN_Mihailo.dds"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
				}
			}
			
			set_party_name = { ideology = neutrality long_name = royalists_party name = royalists_party }
		}
		effect_tooltip = { 
			ITA = { puppet = MNT }
		}
		
		ITA = { country_event = italymod.diploevent.32 }
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.31.c #"They have to fight for it!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = ROOT
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = take_claimed_state
					target = ROOT
					expire = 0
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.33 }
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.32
	title = italymod.diploevent.32.t
	desc = italymod.diploevent.32.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.32.a #"Excelent."
		
		puppet = MNT
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.33
	title = italymod.diploevent.33.t
	desc = italymod.diploevent.33.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.33.a #"They will regret of their choose."
		create_wargoal = {
			type = take_claimed_state
			target = FROM
			expire = 0
		}
	}
}

#"[From.GetName] propose a royal wedding"
country_event = {
	id = italymod.diploevent.34
	title = italymod.diploevent.34.t
	desc = italymod.diploevent.34.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.34.a #"It's time to end this useless conflict."
		
		ai_chance = {
			factor = 40 
		}

		effect_tooltip = { 
			ITA = { add_to_faction = ROOT }
		}
		
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}
		
		ITA = { country_event = italymod.diploevent.35 }
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.34.b #"We are not interested in it."
		
		ai_chance = {
			factor = 20 
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = topple_government
					target = GRE
					expire = 0
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.36 }
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.35
	title = italymod.diploevent.35.t
	desc = italymod.diploevent.35.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.35.a #"Excelent."
		IF = {
			limit = {
				is_in_faction = no
			}
			create_faction = ITA_generic_faction
		}
		add_to_faction = FROM
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.36
	title = italymod.diploevent.36.t
	desc = italymod.diploevent.36.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.36.a #"We have tried with the pen, now we might will use the sword."
		create_wargoal = {
			type = topple_government
			target = GRE
			expire = 0
		}
	}
}

#"[From.GetName] request the throne of Hungary"

#"[From.GetName] wants to create a kingdoms for the Croatians"
country_event = {
	id = italymod.diploevent.40
	title = italymod.diploevent.40.t
	desc = italymod.diploevent.40.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
			tag = CRO
		}
		name = italymod.diploevent.40.a #"We're glad to accept a Savoy on our throne."
		
		ai_chance = {
			factor = 40 
		}
		
		#TODO: not working proprely, use the old & good create_country_leader instead
		#set_nationality = {
		#	character = ITA_tomislav_ii
		#	target_country = CRO
		#}
		#promote_character = ITA_tomislav_ii
		
		create_country_leader = {
			name = "tomislav_ii"
			desc = "POLITICS_BENITO_MUSSOLINI_DESC"
			picture = "gfx/leaders/ITA/Portrait_KR_Aimone.tga"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
			}
		}
				
		effect_tooltip = { 
			ITA = { puppet = ROOT }
		}
		
		ITA = { country_event = italymod.diploevent.38 }
	}
	
	option = {
		trigger = {
			NOT = {
				tag = CRO
			}
		}
		name = "They can take it."
		
		ai_chance = {
			factor = 40 
		}
		
		IF = {
			limit = {
				controls_state = 103
			}
			CRO = {
				transfer_state = 103
			}
		}
		
		CRO = {
			transfer_state = 109
			
			#TODO: not working proprely, use the old & good create_country_leader instead
			#set_nationality = {
			#	character = ITA_tomislav_ii
			#	target_country = CRO
			#}
			#promote_character = ITA_tomislav_ii
			
			create_country_leader = {
				name = "tomislav_ii"
				desc = "POLITICS_BENITO_MUSSOLINI_DESC"
				picture = "gfx/leaders/ITA/Portrait_KR_Aimone.tga"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
				}
			}
			
		}		
		
		effect_tooltip = { 
			ITA = { puppet = CRO }
		}
		
		ITA = { country_event = italymod.diploevent.41 }
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.40.b #"Never!"
		
		ai_chance = {
			factor = 20 
		}
		
		effect_tooltip = {
			ITA = {
				
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.42 }
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.41
	title = italymod.diploevent.41.t
	desc = italymod.diploevent.41.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.41.a #"Excelent."
		puppet = CRO
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.42
	title = italymod.diploevent.42.t
	desc = italymod.diploevent.42.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.42.a #"Damn it."
		
	}
}

#"[From.GetName] propose an agreement"
country_event = {
	id = italymod.diploevent.43
	title = italymod.diploevent.43.t
	desc = italymod.diploevent.43.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.43.a #"Sure, where we have to sign?"
		
		ai_chance = {
			factor = 40
			modifier = {
				is_in_faction = no
				factor = 2
			}
			modifier = {
				factor = 2
					has_opinion = {
					target = FROM
					value > 24
				}
			}
		}
		
		effect_tooltip = {
			FROM = {
				give_guarantee = ROOT
				diplomatic_relation = {
					country = FROM
					relation = non_aggression_pact
					active = yes
				}
			}
			give_guarantee = FROM
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
				active = yes
			}
		}
		
		FROM = { country_event = italymod.diploevent.44 }
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.43.b #"No, thanks, we are fine like this."
		
		ai_chance = {
			factor = 20
			modifier = {
				factor = 2
					has_opinion = {
					target = FROM
					value < 0
				}
			}
		}
		
		effect_tooltip = {
			
		}
		
		FROM = { country_event = italymod.diploevent.45 }
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.44
	title = italymod.diploevent.44.t
	desc = italymod.diploevent.44.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.44.a #"It seems the pen is mightier than sword."
		give_guarantee = FROM
		give_military_access = FROM
		FROM = {
			give_guarantee = ITA
			give_military_access = ITA
		}
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.45
	title = italymod.diploevent.45.t
	desc = italymod.diploevent.45.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.45.a #"An opportunity lost."
		
	}
}

#"[From.GetName] ask to reform our government"


#"[From.GetName] launch a common industry development plan"

#"[From.GetName] launch a common infrastructure development plan"


#"[From.GetName] launch a common dockyards development plan"


#"[From.GetName] propose a common Mediterranean market"


#"[From.GetName] proposes joint military exercises"
country_event = {
	id = italymod.diploevent.51
	title = italymod.diploevent.51.t
	desc = italymod.diploevent.51.desc
	picture = GFX_report_event_generic_army
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.51.a #"We're glad to participate."
		
		ai_chance = {
			factor = 40
		}
		
		add_political_power = -100
		army_experience = 100
		
		ITA = { country_event = italymod.diploevent.52 }
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.51.b #"We aren't interested"
		
		ai_chance = {
			factor = 20
		}
		
		ITA = { country_event = italymod.diploevent.57 }
	}
	
	
}

#"[From.GetName] participate"
country_event = {
	id = italymod.diploevent.52
	title = italymod.diploevent.52.t
	desc = italymod.diploevent.52.desc
	picture = GFX_report_event_generic_army
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.52.a #"Wonderful!"
		army_experience = 25
	}
}

#"[From.GetName] proposes joint navy exercises"
country_event = {
	id = italymod.diploevent.53
	title = italymod.diploevent.53.t
	desc = italymod.diploevent.53.desc
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.53.a #"We're glad to participate."
		
		ai_chance = {
			factor = 40
		}
		
		add_political_power = -100
		navy_experience = 100
		
		ITA = { country_event = italymod.diploevent.52 }
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.53.b #"We aren't interested."
		
		ai_chance = {
			factor = 20
		}
		
		ITA = { country_event = italymod.diploevent.57 }
	}
	
	
}

#"[From.GetName] participate"
country_event = {
	id = italymod.diploevent.54
	title = "[From.GetName] participate"
	desc = italymod.diploevent.52.desc
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.54.a #"Wonderful!"
		navy_experience = 25
	}
}

#"[From.GetName] proposes joint air exercises"
country_event = {
	id = italymod.diploevent.55
	title = italymod.diploevent.55.t
	desc = italymod.diploevent.55.desc
	picture = GFX_report_event_ace_promoted
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.55.a #"We're glad to participate."
		
		ai_chance = {
			factor = 40
		}
		
		add_political_power = -100
		navy_experience = 50
		
		ITA = { country_event = italymod.diploevent.52 }
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.55.b #"We aren't interested."
		
		ai_chance = {
			factor = 20
		}
		
		ITA = { country_event = italymod.diploevent.57 }
	}
	
	
}

#"[From.GetName] participate"
country_event = {
	id = italymod.diploevent.56
	title = italymod.diploevent.56.t
	desc = italymod.diploevent.52.desc
	picture = GFX_report_event_ace_promoted
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.56.a #"Wonderful!"
		air_experience = 25
	}
}

#"[From.GetName] don't participate"
country_event = {
	id = italymod.diploevent.57
	title = italymod.diploevent.57.t
	desc = italymod.diploevent.57.desc
	picture = GFX_report_event_generic_army
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.57.a #"Too bad for them."

	}
}

#"Mediterranean Entente wants to buy Malta"


#"[FROM.GetName] has accepted to sell Malta"
country_event = {
	id = italymod.diploevent.59
	title = italymod.diploevent.59.t
	desc = italymod.diploevent.59.desc
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.59.a #"Wonderful!"
		IF = {
			limit = {
				original_tag = ITA
			}
			transfer_state = 116
		}
		ELSE = {
			effect_tooltip = {
				ITA = {
					transfer_state = 116
				}
			}
		}
	}
}

#"[From.GetName] refuse to sell Malta"
country_event = {
	id = italymod.diploevent.60
	title = italymod.diploevent.60.t
	desc = italymod.diploevent.60.desc
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.60.a #"As they wish."
		IF = {
			limit = {
				original_tag = ITA
			}
			add_state_claim = 116
		}
		ELSE = {
			effect_tooltip = {
				ITA = {
					add_state_claim = 116
				}
			}
		}
	}
}

#"Mediterranean Entente wants to buy Gibraltair"



#"[ENG.GetName] has accepted to sell Gibraltair"

#country_event = {
#	id = italymod.diploevent.64
#	title = "[ENG.GetName] has accepted to sell Gibraltair"
#	desc = italymod.diploevent.59.desc
#	picture = GFX_report_event_ast_navy
#	
#	is_triggered_only = yes
#	
#	immediate = {  }
#	
#	option = {
#		trigger = {
#		}
#		name = "Wonderful!"
#		transfer_state = 118
#	}
#}

#"Mediterranean Entente wants to buy Cyprus"

#country_event = {
#	id = italymod.diploevent.68
#	title = "[ENG.GetName] has accepted to sell Cyprus"
#	desc = italymod.diploevent.59.desc
#	picture = GFX_report_event_ast_navy
#	
#	is_triggered_only = yes
#	
#	immediate = {  }
#	
#	option = {
#		trigger = {
#		}
#		name = "Wonderful!"
#		transfer_state = 118
#	}
#}

#"[ITA.GetName] requires our submission"
country_event = {
	id = italymod.diploevent.69
	title = italymod.diploevent.69.t
	desc = italymod.diploevent.69.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.69.a #"We can't hope to stand against them."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = TUR
						is_in_faction_with = TUR
					}
				}
			}
		}
		
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
		
		ITA = { country_event = italymod.diploevent.70 }
		
		effect_tooltip = {
			ITA = { add_to_faction = TUR }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.69.b #"Never!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = TUR
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = topple_government
					target = TUR
					expire = 0
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.71 }
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.70
	title = italymod.diploevent.70.t
	desc = italymod.diploevent.70.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.70.a #"The revolution is spreading."
		
		ITA = { add_to_faction = FROM }
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.71
	title = italymod.diploevent.71.t
	desc = italymod.diploevent.71.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.71.a #"As they wish."
		ITA = {
				create_wargoal = {
				type = topple_government
				target = FROM
				expire = 0
			}
		}
	}
}

#"[ITA.GetName] requires our submission"
country_event = {
	id = italymod.diploevent.72
	title = italymod.diploevent.72.t
	desc = italymod.diploevent.69.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.72.a #"We can't hope to stand against them."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = ALB
						is_in_faction_with = ALB
					}
				}
			}
		}
		
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
		
		ITA = { country_event = italymod.diploevent.73 }
		
		effect_tooltip = {
			ITA = { puppet = ALB }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.72.b #"Never!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = ALB
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = topple_government
					target = ALB
					expire = 0
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.74 }
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.73
	title = "[From.GetName] accept"
	desc = italymod.diploevent.70.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.73.a #"The revolution is spreading."
		
		ITA = { puppet = FROM }
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.74
	title = italymod.diploevent.74.t
	desc = italymod.diploevent.71.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.74.a #"As they wish."
		ITA = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = FROM
				expire = 0
			}
		}
	}
}

#"[From.GetName] is spreading revolutionary propaganda in our country"
country_event = {
	id = italymod.diploevent.75
	title = italymod.diploevent.75.t
	desc = italymod.diploevent.75.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.75.a #"Their foreign policy is getting way too far..."
	}
}

#country_event = {
#	id = italymod.diploevent.76
#	title = "[ITA.GetName] is moving against [YUG.GetName]"
#	desc = italymod.diploevent.76.desc
#	picture = GFX_report_event_generic_sign_treaty1
#	
#	trigger = {
#		is_in_faction_with = ITA
#		NOT = {
#			original_tag = ITA
#		}
#		ITA = {
#			focus_progress = {
#				focus = ITA_revision_yugoslavia
#				progress > 0.01
#			}
#		}
#	}
#
#	mean_time_to_happen = { days = 7 }
#	
#	immediate = {  }
#	
#	option = {
#		trigger = {
#		}
#		name = "Better be ready..."
#	}
#}

#country_event = {
#	id = italymod.diploevent.77
#	title = "[ITA.GetName] is moving against [GRE.GetName]"
#	desc = italymod.diploevent.76.desc
#	picture = GFX_report_event_generic_sign_treaty1
#	
#	trigger = {
#		is_in_faction_with = ITA
#		NOT = {
#			original_tag = ITA
#		}
#		ITA = {
#			focus_progress = {
#				focus = ITA_greece_fate
#				progress > 0.01
#			}
#		}
#	}
#
#	mean_time_to_happen = { days = 7 }
#	
#	immediate = {  }
#	
#	option = {
#		trigger = {
#		}
#		name = "Better be ready..."
#	}
#}

#country_event = {
#	id = italymod.diploevent.78
#	title = "[ITA.GetName] is moving against [ROM.GetName]"
#	desc = italymod.diploevent.76.desc
#	picture = GFX_report_event_generic_sign_treaty1
#	
#	trigger = {
#	is_in_faction_with = ITA
#		NOT = {
#			original_tag = ITA
#		}
#		ITA = {
#			focus_progress = {
#				focus = ITA_revision_romania
#				progress > 0.01
#			}
#		}
#	}
#
#	mean_time_to_happen = { days = 7 }
#	
#	immediate = {  }
#	
#	option = {
#		trigger = {
#		}
#		name = "Better be ready..."
#	}
#}

#"[YUG.GetName] surrender to the Italian requests"
country_event = {
	id = italymod.diploevent.79
	title = italymod.diploevent.79.t
	desc = italymod.diploevent.79.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.79.a #"Excelent."
		
		ai_chance = {
			factor = 20 
		}
		
		IF = {
			limit = {
				tag = AUS
				is_in_faction_with = ITA
				YUG = { controls_state = 102 }
			}
			transfer_state = 102
		}
		IF = {
			limit = {
				YUG = { controls_state = 45 }
				tag = HUN
				is_in_faction_with = ITA
			}
			HUN = { transfer_state = 45 }
		}
		IF = {
			limit = {
				YUG = { controls_state = 764 }
				tag = HUN
				is_in_faction_with = ITA
			}
			HUN = { transfer_state = 764 }
		}
		IF = {
			limit = {
				YUG = { controls_state = 106 }
				tag = BUL
				is_in_faction_with = ITA
			}
			BUL = { transfer_state = 106 }
		}
		IF = {
			limit = {
				YUG = { controls_state = 803 }
				tag = BUL
				is_in_faction_with = ITA
			}
			BUL = { transfer_state = 803 }
		}
	}
}

#"[ROM.GetName] surrender to the Italian requests"
country_event = {
	id = italymod.diploevent.80
	title = italymod.diploevent.80.t
	desc = italymod.diploevent.80.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.80.a #"Excelent."
		
		ai_chance = {
			factor = 20 
		}
		
		IF = {
			limit = {
				ROM = { controls_state = 82 }
				tag = HUN
				is_in_faction_with = ITA
			}
			HUN = { transfer_state = 82 }
		}
		IF = {
			limit = {
				ROM = { controls_state = 84 }
				tag = HUN
				is_in_faction_with = ITA
			}
			HUN = { transfer_state = 84 }
		}
		IF = {
			limit = {
				ROM = { controls_state = 76 }
				tag = HUN
				is_in_faction_with = ITA
			}
			HUN = { transfer_state = 76 }
		}
		IF = {
			limit = {
				ROM = { controls_state = 83 }
				tag = HUN
				is_in_faction_with = ITA
			}
			HUN = { transfer_state = 83 }
		}
		IF = {
			limit = {
				ROM = { controls_state = 77 }
				tag = BUL
				is_in_faction_with = ITA
			}
			BUL = { transfer_state = 77 }
		}
	}
}

#"[GRE.GetName] surrender to the Italian requests"
country_event = {
	id = italymod.diploevent.81
	title = "[GRE.GetName] surrender to the Italian requests"
	desc = italymod.diploevent.81.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.81.a #"Excelent."
		
		ai_chance = {
			factor = 20 
		}
		
		IF = {
			limit = {
				ITA = { controls_state = 184 }
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			BUL = { transfer_state = 184 }
		}
		IF = {
			limit = {
				ITA = { controls_state = 731 }
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			BUL = { transfer_state = 731 }
		}
	}
}

#"[ITA.GetName] extend his influence over us"
country_event = {
	id = italymod.diploevent.82
	title = italymod.diploevent.82.t
	desc = italymod.diploevent.82.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.82.a #"We don't have any other choice..."
		ai_chance = {
			factor = 80
		}			
		
		FROM = {
			IF = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = ALB
					autonomous_state = autonomy_dominion
					freedom_level = 0.2
				}
			}
			ELSE = {
				puppet = ALB
			}
		}
	}
	
	option = { # Resist
		name = italy.3.b
		ai_chance = {
			factor = 10 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						any_other_country = {
							OR = {
								is_major = yes
								tag = YUG
							}
							NOT = { tag = ITA }
							OR = {
								has_guaranteed = ROOT
								is_in_faction_with = ROOT
							}
						}
						is_historical_focus_on = yes
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = ROOT
							} 
						}
					}
				}
			}
			modifier = {
				add = 100
				is_in_faction = yes
				NOT = { is_in_faction_with = ITA }
			}
			modifier = {
				add = 100
				is_subject = yes
				NOT = { is_subject_of = ITA }
			}
		}
		ITA = {
			effect_tooltip = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ALB
					expire = 0
				}
			}
			country_event = { days = 1 id = italymod.diploevent.103 }
		}
	}
}

#############################UNUSED#############################
country_event = {
	id = italymod.diploevent.83
	title = "[ITA.GetName] is trying to reach the Allies"
	desc = italymod.diploevent.83.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	#trigger = {
	#	tag = SOV
	#	has_country_leader = {
	#		name = "Joseph Stalin"
	#		ruling_only = yes
	#	}
	#	is_faction_leader = yes
	#	ITA = {
	#		focus_progress = {
	#			focus = ITA_common_enemy
	#			progress > 0.01
	#		}
	#	}
	#}
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = "The [GER.GetName] is the real threat in Europe. Let them do."
		
		ai_chance = {
			factor = 40
			modifier = {
				factor = 2
					has_opinion = {
					target = ITA
					value > 24
				}
			}
			modifier = {
				factor = 2
				surrender_progress > 0.1
			}
		}
		
		ITA = { country_event = italymod.diploevent.84 }
	}
	
	option = {
		trigger = {
		}
		name = "Put a veto, they must stay loyal to [SOV.GetName]."
		
		ai_chance = {
			factor = 80
			modifier = {
				factor = 2
					has_opinion = {
					target = ITA
					value < 0
				}
			}
		}
		
		ITA = { country_event = italymod.diploevent.85 }
	}
}

country_event = {
	id = italymod.diploevent.84
	title = "[SOV.GetName] approve our diplomacy"
	desc = italymod.diploevent.84.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	fire_only_once = yes

	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = "Down with the Fascists!"
	}
}

country_event = {
	id = italymod.diploevent.85
	title = "Stalin blocks Togliatti"
	desc = italymod.diploevent.85.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	fire_only_once = yes

	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = "Stalin is right. We have to follow his lead."
		
		ai_chance = {
			factor = 40
			modifier = {
				factor = 2
				has_opinion = {
					target = SOV
					value > 24
				}
			}
		}
		
		set_country_flag = ITA_stalin_veto
		
		SOV = { country_event = italymod.diploevent.86 }
	}
	
	option = {
		trigger = {
		}
		name = "We are not Stalin's puppets! Let's get rid of Togliatti!"
		
		ai_chance = {
			factor = 80
			modifier = {
				factor = 2
					has_opinion = {
					target = SOV
					value < 0
				}
			}
		}
		
		add_stability = -0.50
		
		
		
		
		create_country_leader = {
			name = "pci"
			desc = "POLITICS_BENITO_MUSSOLINI_DESC"
			picture = "pci.dds"
			expire = "1965.1.1"
			ideology = leninism
			traits = {
			}
		}
		
		SOV = { country_event = italymod.diploevent.87 }
	}
}

country_event = {
	id = italymod.diploevent.86
	title = "[ITA.GetName] stay loyal"
	desc = italymod.diploevent.86.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	fire_only_once = yes

	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = "Excellent."
	}
}

country_event = {
	id = italymod.diploevent.87
	title = "[ITA.GetName] gets rid of Togliatti"
	desc = italymod.diploevent.87.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	fire_only_once = yes

	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = "Damn it!"
	}
}
################################################################

#"[ITA.GetFactionName] sanctions us"


#"Italy demand control over Croatia"
country_event = {
	id = italymod.diploevent.89
	title = italymod.diploevent.89.t
	desc = italymod.diploevent.89.desc
 
 
	picture = GFX_report_event_german_italian_pact
	
	is_triggered_only = yes

	option = {
		name = italymod.diploevent.89.a #"Leave it to them."
		
		ai_chance = { factor = 70 }
		
		ITA = { country_event = { id = italymod.diploevent.90 hours = 2 } }
		every_other_country = {
			limit = {
				NOT = {
					OR = {
						tag = GER
						tag = ITA
						tag = CRO
					}
				}
				is_in_faction_with = ITA
				OR = {
					controls_state = 103
					controls_state = 109
					controls_state = 104
					controls_state = 804
				}
			}
			country_event = italymod.diploevent.92 
		}
		effect_tooltip = {
			IF = {
				limit = {
					CRO = {
						exists = no
					}
				}
				CRO = {
					transfer_state = 109
					transfer_state = 103
					add_state_claim = 104
					add_state_claim = 804
					IF = {
						limit = {
							any_other_country = {
								OR = {
									original_tag = ITA
									is_in_faction_with = ITA
								}
								controls_state = 104
							}
						}
						transfer_state = 104
					}
					IF = {
						limit = {
							any_other_country = {
								OR = {
									original_tag = ITA
									is_in_faction_with = ITA
								}
								controls_state = 804
							}
						}
						transfer_state = 804
					}
				}
				puppet = CRO
			}
			IF = {
				limit = {
					CRO = {
						exists = yes
						has_war_with = ITA
					}
				}
				CRO = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_other_country = {
					limit = {
						original_tag = CRO
						has_government = fascism
					}
					transfer_state = 109
					transfer_state = 103
					add_state_claim = 104
					add_state_claim = 804
					IF = {
						limit = {
							any_other_country = {
								OR = {
									original_tag = ITA
									is_in_faction_with = ITA
								}
								controls_state = 104
							}
						}
						transfer_state = 104
					}
					IF = {
						limit = {
							any_other_country = {
								OR = {
									original_tag = ITA
									is_in_faction_with = ITA
								}
								controls_state = 804
							}
						}
						transfer_state = 804
					}
					ITA = { puppet = ROOT }
				}
			}
		}
	}

	option = {
		name = italymod.diploevent.89.b #"Surely they won't be able to hold that lands. The answer is no."
		
		ai_chance = { factor = 20 }
		
		ITA = { country_event = { id = italymod.diploevent.91 hours = 2 } }
	}
}

#"Germany Supports our Demands over Croatia"
country_event = {
	id = italymod.diploevent.90
	title = italymod.diploevent.90.t
	desc = italymod.diploevent.90.desc
 
	picture = GFX_report_event_german_italian_pact
	
	is_triggered_only = yes

	option = {
		name = italymod.diploevent.90.a #"This is our revenge for the 'Vittoria Mutilata'."
				
		IF = {
			limit = {
				CRO = {
					exists = no
				}
			}
			CRO = {
				transfer_state = 109
				transfer_state = 103
				add_state_claim = 104
				add_state_claim = 804
				IF = {
					limit = {
						any_other_country = {
							OR = {
								original_tag = ITA
								is_in_faction_with = ITA
							}
							controls_state = 104
						}
					}
					transfer_state = 104
				}
				IF = {
					limit = {
						any_other_country = {
							OR = {
								original_tag = ITA
								is_in_faction_with = ITA
							}
							controls_state = 804
						}
					}
					transfer_state = 804
				}
			}
			puppet = CRO
		}
		IF = {
			limit = {
				CRO = {
					exists = yes
					has_war_with = ITA
				}
			}
			CRO = {
				start_civil_war = { ideology = fascism size = 1 }
			}
			random_other_country = {
				limit = {
					original_tag = CRO
					has_government = fascism
				}
				transfer_state = 109
				transfer_state = 103
				add_state_claim = 104
				add_state_claim = 804
				IF = {
					limit = {
						any_other_country = {
							OR = {
								original_tag = ITA
								is_in_faction_with = ITA
							}
							controls_state = 104
						}
					}
					transfer_state = 104
				}
				IF = {
					limit = {
						any_other_country = {
							OR = {
								original_tag = ITA
								is_in_faction_with = ITA
							}
							controls_state = 804
						}
					}
					transfer_state = 804
				}
				ITA = { puppet = ROOT }
			}
		}
	}
}

#"Germany reject our Demands over Croatia"
country_event = {
	id = italymod.diploevent.91
	title = italymod.diploevent.91.t
	desc = italymod.diploevent.91.desc
 
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		ai_chance = { factor = 25 }
		name = italy.14.a
		GER = { 
			remove_from_faction = ITA 
			country_event = germany.105
		}
	}

	option = {
		ai_chance = { factor = 75 }
		name = italy.14.b

	}
}

#"Germany Supports Italy demands over Croatia"
country_event = {
	id = italymod.diploevent.92
	title = italymod.diploevent.92.t
	desc = italymod.diploevent.92.desc
 
	picture = GFX_report_event_german_italian_pact
	
	is_triggered_only = yes
	
	option = {
		name = italymod.diploevent.92.a #"We don't have many choice..."
		
		effect_tooltip = { 
			IF = {
				limit = {
					controls_state = 103
				}
				random_other_country = {
					limit = {
						original_tag = CRO
						is_puppet_of = ITA
					}
					transfer_state = 103
				}
			}
			IF = {
				limit = {
					controls_state = 109
				}
				random_other_country = {
					limit = {
						original_tag = CRO
						is_puppet_of = ITA
					}
					transfer_state = 109
				}
			}
			IF = {
				limit = {
					controls_state = 104
				}
				random_other_country = {
					limit = {
						original_tag = CRO
						is_puppet_of = ITA
					}
					transfer_state = 104
				}
			}
			IF = {
				limit = {
					controls_state = 804
				}
				random_other_country = {
					limit = {
						original_tag = CRO
						is_puppet_of = ITA
					}
					transfer_state = 804
				}
			}
		}
	}
}

##italymod.diploevent.93##

##italymod.diploevent.94##

##italymod.diploevent.95##

#"The renewal of the Rome Protocols"
country_event = {
	id = italymod.diploevent.96
	title = italymod.diploevent.96.t
	desc = italymod.diploevent.96.desc
 
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		ai_chance = { 
			factor = 75 
		}
		name = italymod.diploevent.96.a #"Where do I sign?"
		IF = {
			limit = {
				original_tag = AUS
				HUN = {
					exists = yes
					is_puppet = no 
					NOT = { is_in_faction_with = GER has_government = communism }
				}
			}
			give_guarantee = HUN
			diplomatic_relation = {
				country = HUN
				relation = non_aggression_pact
				active = yes
			}
		}
		ELSE = {
			IF = {
				limit = {
					original_tag = HUN
					AUS = {
						exists = yes
						is_puppet = no 
						NOT = { is_in_faction_with = GER has_government = communism }
					}
				}
				give_guarantee = AUS
				diplomatic_relation = {
					country = AUS
					relation = non_aggression_pact
					active = yes
				}
			}
			unlock_national_focus = HUN_renew_the_rome_protocols
		}
		set_country_flag = ITA_rome_protocols_flag
		give_guarantee = FROM
		diplomatic_relation = {
			country = ITA
			relation = non_aggression_pact
			active = yes
		}
	}

	option = {
		ai_chance = { 
			factor = 25 
			modifier = {
				factor = 0.5
					has_opinion = {
					target = FROM
					value > 0
				}
			}
		}
		name = italymod.diploevent.96.b #"We're not interested."
	}
}

#"Trade agreements of the Rome Protocols"
country_event = {
	id = italymod.diploevent.97
	title = italymod.diploevent.97.t
	desc = italymod.diploevent.97.desc
 
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		name = italymod.diploevent.97.a #"This will surely help our economy."
		effect_tooltip = {
			add_ideas = ITA_unify_market_idea
			give_military_access = FROM
			IF = {
				limit = {
					original_tag = AUS
					HUN = {
						exists = yes
						is_puppet = no 
						NOT = { is_in_faction_with = GER has_government = communism }
						has_country_flag = ITA_rome_protocols_flag
					}
				}
				give_military_access = HUN
			}
			ELSE = {
				IF = {
					limit = {
						original_tag = HUN
						AUS = {
							exists = yes
							is_puppet = no 
							NOT = { is_in_faction_with = GER has_government = communism }
							has_country_flag = ITA_rome_protocols_flag
						}
					}
					give_military_access = AUS
				}
			}
		}
	}
}

#"Italy proposes joint military exercises"
country_event = {
	id = italymod.diploevent.98
	title = italymod.diploevent.98.t
	desc = italymod.diploevent.98.desc
 
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		name = italymod.diploevent.98.a #"Cooperation is the key to win."
		effect_tooltip = {
			army_experience = 100
			navy_experience = 100
			air_experience = 100
		}
	}
}

#"Ratification of Stresa Front"
country_event = {
	id = italymod.diploevent.99
	title = italymod.diploevent.99.t
	desc = italymod.diploevent.99.desc
 
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		name = italymod.diploevent.99.a #"Germany is the real threat."
		ai_chance = {
			factor = 40
			modifier = {
				factor = 2
				has_opinion = {
					target = FROM
					value > 0
				}
			}
		}
		
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}
		
		FROM = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			country_event = italymod.diploevent.100
		}
	}
	
	option = {
		name = italymod.diploevent.99.b #"This is not of our interest."
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0.2
				has_opinion = {
					target = FROM
					value > 0
				}
			}
		}
		
		FROM = {
			country_event = lar_ratify_the_stresa_front.3
		}
	}
}

#"[FROM.GetName] ratifies"
country_event = {
	id = italymod.diploevent.100
	title = italymod.diploevent.100.t
	desc = italymod.diploevent.100.desc
 
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		name = italymod.diploevent.100.a #"A triumph for the Italian diplomacy."
		add_to_faction = FROM
		
		hidden_effect = {
			IF = {
				limit = { NOT = { has_global_flag = ITA_stresa_news_flag } }
				set_global_flag = ITA_stresa_news_flag
				news_event = { id = italymod.news.17 days = 3 random_days = 5 }
			}
		}
	}
}

#"Germany is preparing for Anschluss"


#"[ITA.GetName] extend his influence over us"
country_event = {
	id = italymod.diploevent.102
	title = italymod.diploevent.102.t
	desc = italymod.diploevent.82.desc
	picture = GFX_report_event_albanian_king_zog
	
	is_triggered_only = yes
	
	option = { # Yield
		name = italymod.diploevent.102.a #"We don't have any other choice..."
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {			
					any_other_country = {
						OR = {
							is_major = yes
							tag = YUG
						}
						NOT = { tag = ITA }
						OR = {
							has_guaranteed = ROOT
							is_in_faction_with = ROOT
						}
					}
					AND = {
						is_subject = yes
						NOT = { is_subject_of = ITA }
					}
				}
			}
			modifier = {
				factor = 0.5
				OR = {
					has_government = communism
					has_government = fascism #glorious Albania will never yield!
				}
			}
			modifier = {
				factor = 5
				is_subject_of = ITA
			}
		}
		ITA = {
			puppet = ALB
		}
	}
	option = { # Resist
		name = italy.3.b
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						any_other_country = {
							OR = {
								is_major = yes
								tag = YUG
							}
							NOT = { tag = ITA }
							OR = {
								has_guaranteed = ROOT
								is_in_faction_with = ROOT
							}
						}
						is_historical_focus_on = yes
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = ROOT
							} 
						}
					}
				}
			}
			modifier = {
				add = 100
				is_in_faction = yes
				NOT = { is_in_faction_with = ITA }
			}
			modifier = {
				add = 100
				is_subject = yes
				NOT = { is_subject_of = ITA }
			}
		}
		ITA = {
			effect_tooltip = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ALB
					expire = 0
				}
			}
			country_event = { days = 1 id = italymod.diploevent.103 }
		}
	}
}

#"Albania Resist!"
country_event = {
	id = italymod.diploevent.103
	title = italymod.diploevent.103.t
	desc = italy.2.d
	picture = GFX_report_event_albanian_partisans
	
	is_triggered_only = yes
	
	option = {
		name = italy.2.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = ALB
			expire = 0
		}
	}
}

#"[From.GetName] demand our subjugation"
country_event = {
	id = italymod.diploevent.104
	title = italymod.diploevent.104.t
	desc = italymod.diploevent.25.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.104.a #"We can't hope to stand against them."
		
		ai_chance = {
			base = 40
			modifier = {
				factor = 0				
				any_other_country = {
					is_major = yes
					NOT = { OR = { tag = ITA is_in_faction_with = ITA } }
					OR = {
						has_guaranteed = GRE
						is_in_faction_with = GRE
					}
				}
			}
		}
		
		effect_tooltip = { 
			IF = {
				limit = {
					GRE = { controls_state = 184 }
					BUL = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				BUL = { transfer_state = 184 }
			}
			IF = {
				limit = {
					GRE = { controls_state = 731 }
					BUL = {
						exists = yes
						is_in_faction_with = ITA
					}
				}
				BUL = { transfer_state = 731 }
			}
			ITA = { puppet = GRE }
		}
		
		ITA = { country_event = italymod.diploevent.105 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.8 }
		}
	}
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.104.b #"Never!"
		
		ai_chance = {
			factor = 20 
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_in_faction_with = ITA
						ITA = { is_faction_leader = yes }
					}
					AND = {
						is_in_faction = no 
						NOT = {
							any_other_country = {
								NOT = { tag = ITA }
								has_guaranteed = GRE
							} 
						}
					}
				}
			}
		}
		
		effect_tooltip = {
			ITA = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GRE
					expire = 0
				}
			}
		
		}
		
		ITA = { country_event = italymod.diploevent.106 }
		hidden_effect = {
			news_event = { days = 5 id = italymod.news.9 }
		}
	}
}

#"[From.GetName] accept"
country_event = {
	id = italymod.diploevent.105
	title = italymod.diploevent.105.t
	desc = italymod.diploevent.26.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.105.a #"Excelent."
		IF = {
			limit = {
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			BUL = { country_event = italymod.diploevent.81 }
		}
		IF = {
			limit = {
				GRE = { controls_state = 184 }
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				BUL = { transfer_state = 184 }
			}
		}
		IF = {
			limit = {
				GRE = { controls_state = 731 }
				BUL = {
					exists = yes
					is_in_faction_with = ITA
				}
			}
			effect_tooltip = {
				BUL = { transfer_state = 731 }
			}
		}
		ITA = { puppet = GRE }
	}
}

#"[From.GetName] refuse"
country_event = {
	id = italymod.diploevent.106
	title = italymod.diploevent.106.t
	desc = italymod.diploevent.27.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	immediate = {  }
	
	option = {
		trigger = {
		}
		name = italymod.diploevent.106.a #"We will strike them down."
		create_wargoal = {
			type = puppet_wargoal_focus
			target = GRE
			expire = 0
		}
	}
}

#initial event - Italy offers treaty
country_event = {
	id = italymod.diploevent.107
	title = italymod.diploevent.107.t
	desc = lar_franco_soviet_treaty.1.desc
	picture = GFX_report_event_stalin_02
	is_triggered_only = yes
	option = {
		name = italymod.diploevent.99.a
		ai_chance = {
			factor = 40
		}
		FROM = {
			country_event = italymod.diploevent.108
		}
		effect_tooltip = {
			FROM = {
				give_guarantee = PREV
			}
			give_guarantee = FROM
		}
	}

	option = {
		name = lar_franco_soviet_treaty.1.b #refuse
		ai_chance = {
			factor = 60
			modifier = {
				factor = 0.2
				has_opinion = {
					target = FROM
					value > 24
				}
			}
		}
		FROM = {
			country_event = italymod.diploevent.109
		}
	}
}

# rasponse event for Italy - country agrees
country_event = {
	id = italymod.diploevent.108
	title = lar_franco_soviet_treaty.2.t
	desc = lar_franco_soviet_treaty.2.desc
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes
	option = {
		name = lar_franco_soviet_treaty.2.a #agree
		ai_chance = {
			factor = 100
		}
		give_guarantee = FROM
		FROM = { give_guarantee = ROOT }
		
	}
}

#response event for Italy - soviets refuse
country_event = {
	id = italymod.diploevent.109
	title = lar_franco_soviet_treaty.3.t
	desc = lar_franco_soviet_treaty.3.desc
	picture = GFX_report_event_stalin_meeting
	is_triggered_only = yes
	option = {
		name = lar_franco_soviet_treaty.3.a #agree
		ai_chance = {
			factor = 80
		}
	}
}

#news event

add_namespace = italymod.news

#"The Italian Monarchists have launched a coup!"
news_event = {
    id = italymod.news.1
    title = italymod.news.1.t
	desc = italymod.news.1.desc
    picture = GFX_news_event_003
    
    is_triggered_only = yes

	major = yes

    option = {
		name = italymod.news.1.a #"Let's smash these traitors."
		trigger = { 
			original_tag = ITA 
			has_government = fascism
		}
	}
	option = {
		name = italymod.news.1.b #"Avanti Savoia!"
		trigger = { 
			original_tag = ITA
			has_government = neutrality
		}
	}
	option = {
		name = italymod.news.1.c #"Led by a King or a Duce, what's the difference?"
		trigger = { 
			NOT = { original_tag = ITA }
		}
	}
}

#"Mussolini declares the Italian Social Republic!"
news_event = {
    id = italymod.news.2
    title = italymod.news.2.t
    desc = italymod.news.2.desc
	picture = GFX_palazzo_venezia
    
    is_triggered_only = yes

	major = yes

	option = {
		name = italymod.news.2.a #"Another victory for the blackshirts!"
		trigger = { 
			original_tag = ITA
		}
	}
	option = {
		name = italymod.news.2.b #"Another wreck from the past has disappeared among the rubble of history."
		trigger = { 
			NOT = { original_tag = ITA }
		}
	}
}

#"A coup in Italy!"
news_event = {
    id = italymod.news.3
    title = italymod.news.3.t
    desc = italymod.news.3.desc
	picture = GFX_badoglio_coup
    
    is_triggered_only = yes

	major = yes
	
	option = {
		name = italymod.news.3.a #"Avanti Savoia!"
		trigger = { 
			original_tag = ITA
		}
	}
	option = {
		name = italymod.news.3.b #"Led by a king or a duce, what's the difference?"
		trigger = { 
			NOT = { original_tag = ITA }
		}
	}
}

#"Italy withdraws from Ethiopia"
news_event = {
    id = italymod.news.4
    title = italymod.news.4.t
    desc = italymod.news.4.desc
	picture = GFX_selassie
    
    is_triggered_only = yes

	major = yes

	option = {
		name = italymod.news.4.a #"Screw it, it was just a waste of time."
		trigger = { 
			original_tag = ITA
		}
	}
	
	option = {
		name = italymod.news.4.b #"Another victory for the Solomonid Empire!"
		trigger = { 
			original_tag = ETH
		}
	}
	
	option = {
		name = italymod.news.4.c #"So Italy has been defeated again?"
		trigger = { 
			NOT = { 
				original_tag = ITA 
				original_tag = ETH
			}
		}
	}
}

#"Mussolini Arrested!"
news_event = {
    id = italymod.news.5
    title = italymod.news.5.t
    desc = italymod.news.5.desc
	picture = GFX_badoglio_coup
    
    is_triggered_only = yes

	major = yes
	
	option = {
		name = italymod.news.5.a #"Let's hope the best."
		trigger = { 
			original_tag = ITA
		}
	}
	
	option = {
		name = italymod.news.5.b #"So this is the end of the Italian Fascism?"
		trigger = { 
			NOT = { original_tag = ITA }
		}
	}
}

#"The Italian Civil War!"
news_event = {
    id = italymod.news.6
    title = italymod.news.6.t
    desc = italymod.news.6.desc
	picture = GFX_badoglio_coup
    
    is_triggered_only = yes

	major = yes

	option = {
		name = italymod.news.6.a #"Vincere e Vinceremo!"
		trigger = { 
			original_tag = ITA 
			has_government = fascism
		}
	}
	option = {
		name = italymod.news.6.b #"Figth for Liberty!"
		trigger = { 
			original_tag = ITA
			NOT = { has_government = fascism }
		}
	}
	
	option = {
		name = italymod.news.6.c #"So this is the end of the Italian Fascism?"
		trigger = { 
			NOT = { original_tag = ITA }
		}
	}
}

#"The end of the 5th PCI conngress"
news_event = {
    id = italymod.news.7
    title = italymod.news.7.t
    desc = italymod.news.7.desc
	picture = GFX_end_pci_congress
    
    is_triggered_only = yes

	major = yes

	option = {
		name = italymod.news.7.a #"Avanti Popolo, alla riscossa!"
		trigger = { 
			original_tag = ITA
		}
	}
	option = {
		name = italymod.news.7.b #"So which side is Italy now?"
		trigger = { 
			NOT = { original_tag = ITA }
		}
	}
}

#"[From.GetName] Submits to Italy"
news_event = {
    id = italymod.news.8
    title = italymod.news.8.t
    desc = italymod.news.8.desc
	picture = GFX_news_event_italian_tank_desert
    
    is_triggered_only = yes

	major = yes

	option = {
		name = italymod.news.8.a #"A success for the Italian diplomacy!"
		trigger = { 
			original_tag = ITA
		}
	}
	option = {
		name = italymod.news.8.b #"Italy is dangerously expanding."
		trigger = { 
			NOT = { original_tag = ITA }
		}
	}
}

#"[From.GetName] Rejects Italians demands"
news_event = {
    id = italymod.news.9
    title = italymod.news.9.t
    desc = italymod.news.9.desc
	picture = GFX_news_event_italian_tank_desert
    
    is_triggered_only = yes

	major = yes

	option = {
		name = italymod.news.9.a #"They'll see how wrong they were."
		trigger = { 
			original_tag = ITA
		}
	}
	option = {
		name = italymod.news.9.b #"We will see how it ends."
		trigger = { 
			NOT = { original_tag = ITA }
		}
	}
}

#"Hitler visit Rome"
news_event = {
    id = italymod.news.10
    title = italymod.news.10.t
    desc = italymod.news.10.desc
	picture = GFX_Hitler_visit_Rome
    
    is_triggered_only = yes

	major = yes

	option = {
		name = italymod.news.10.a #"A success for the Italian diplomacy!"
		trigger = { 
			original_tag = ITA
		}
	}
	
	option = {
		name = italymod.news.10.b #"Perhaps they may be a useful ally."
		trigger = { 
			original_tag = GER
		}
	}
	
	option = {
		name = italymod.news.10.c #"So which side is Italy now?"
		trigger = { 
			NOT = { OR = { original_tag = ITA original_tag = GER } }
		}
	}
}

# Rosselli Trigger (HIDDEN)


#"The homicide of Rosselli Brothers"
news_event = {
	id = italymod.news.12
    title = italymod.news.12.t
    desc = italymod.news.12.desc
	picture = GFX_rosselli
    
    is_triggered_only = yes

	#major = yes

	option = {
		name = italymod.news.12.a #"One less problem."
		trigger = { 
			original_tag = ITA
			has_government = fascism
		}
		
		hidden_effect = {
			retire_character = ITA_carlo_rosselli
			promote_character = ITA_ferruccio_parri
		}
	}

	option = {
		name = italymod.news.12.b #"Their mouths will be closed forever."
		trigger = { 
			NOT = {
				original_tag = ITA
			}
			has_government = fascism
		}
		
	}
	
	option = {
		name = italymod.news.12.c #"Other victims of Mussolini regime."
		trigger = { 
			NOT = {	
				original_tag = ITA 
				has_government = fascism
			}
		}
	}
}

# Italy leave league of nations Trigger (HIDDEN)


#"Italy leaves the League of Nations"
news_event = {
	id = italymod.news.14
    title = italymod.news.14.t
    desc = italymod.news.14.desc
	picture = GFX_league_of_nations
    
    is_triggered_only = yes

	major = yes

	option = {
		name = italymod.news.14.a #"So i guess it's a goodbye?"
		trigger = { 
		}
	}
}

#"The New Constitution of Italy"
news_event = {
	id = italymod.news.15
    title = italymod.news.15.t
    desc = italymod.news.15.desc
	picture = GFX_ITA_constitution
    
    is_triggered_only = yes

	major = yes

	option = {
		name = italymod.news.15.a #"Hopefully, this is will better than the last one."
		trigger = { 
			original_tag = ITA
		}
	}
	
	option = {
		name = italymod.news.15.b #"So, pizza for celebrate?"
		trigger = { 
			NOT = {
				original_tag = ITA
			}
		}
	}
}

#"Communists seize control of Italy"
news_event = {
	id = italymod.news.16
    title = italymod.news.16.t
    desc = italymod.news.16.desc
	picture = GFX_ITA_pci_revolution
    
    is_triggered_only = yes

	major = yes

	option = {
		name = italymod.news.16.a #"A better future for all the workers it's approaching."
		trigger = { 
			original_tag = ITA
		}
	}
	
	option = {
		name = italymod.news.16.b #"Does it mean pasta for everyone?"
		trigger = { 
			NOT = {
				original_tag = ITA
			}
		}
	}
}

#"The Stresa Front Ratified"
news_event = {
	id = italymod.news.17
    title = italymod.news.17.t
    desc = italymod.news.17.desc
	picture = GFX_news_event_generic_read_write
    
    is_triggered_only = yes

	major = yes
	
	option = {
		name = italymod.news.17.a #"This won't save them from us."
		trigger = { 
			original_tag = GER
		}
	}
	
	option = {
		name = italymod.news.17.b #"The German ambition will soon fall."
		trigger = { 
			OR = {
				original_tag = ITA
				AND = {
					original_tag = FRA
					is_in_faction_with = ITA
				}
				AND = {
					original_tag = ENG
					is_in_faction_with = ITA
				}
			}
		}
	}
	
	option = {
		name = italymod.news.17.c #"It seem that Italy really like to change his allies every year..."
		trigger = { 
			NOT = {
				OR = {
					tag = ITA
					tag = GER
					is_in_faction_with = ITA
				}
			}
		}
	}
	
}

#"Italy backs Austria"
news_event = {
	id = italymod.news.18
    title = italymod.news.18.t
    desc = italymod.news.18.desc
	picture = GFX_news_event_italian_tank_desert
    
    is_triggered_only = yes

	major = yes
	
	option = {
		name = italymod.news.18.a #"We will see if they have to courage for that."
		trigger = { 
			original_tag = GER
		}
	}
	
	option = {
		name = italymod.news.18.b #"We're glad to help."
		trigger = { 
			original_tag = ITA
		}
		add_ai_strategy = {
			type = alliance
			id = AUS
			value = 100
		}
	}
	
	option = {
		name = italymod.news.18.c #"A very useful friend!"
		trigger = { 
			original_tag = AUS
		}
		add_ai_strategy = {
			type = alliance
			id = ITA
			value = 100
		}
	}
	
	option = {
		name = italymod.news.18.d #"Interesting."
		trigger = { 
			NOT = {
				OR = {
					tag = ITA
					tag = GER
					tag = AUS
				}
			}
		}
	}
	
}

# Death of Italo Balbo (HIDDEN)
country_event = {
	id = italymod.news.19
	hidden = yes
	
	fire_only_once = yes
	
	trigger = {
		country_exists = ENG
		country_exists = ITA
		ITA = { 
			has_war_with = ENG 
			has_government = fascism
		}
		ITA = {
			controls_state = 451
			controls_state = 450
			controls_state = 449
			controls_state = 448
			controls_state = 663
			controls_state = 662
			controls_state = 661
		}
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	mean_time_to_happen = {
		days = 90
	}
	
	immediate = {
		random_list = {
			90 = { 
				news_event = italymod.news.20
				set_global_flag = ITA_balbo_died
			}
			10 = { 
				set_global_flag = ITA_balbo_live
			}

		}
	}
}

#"The Death of Italo Balbo"
news_event = {
	id = italymod.news.20
    title = italymod.news.20.t
    desc = italymod.news.20.desc
	picture = GFX_news_event_029
    
    is_triggered_only = yes

	major = yes
	
	option = {
		name = italymod.news.20.a #"He will be remembered."
		trigger = { 
			original_tag = ITA
			has_government = fascism
		}
		retire_character = ITA_italo_balbo
	}
	
	option = {
		name = italymod.news.20.b #"War doesn't spare anyone."
		trigger = { 
			NOT = {	
				original_tag = ITA 
			}
		}
	}
}

#Death of Antonio Gramsci (HIDDEN)
country_event = {
	id = italymod.news.21
	hidden = yes
	
	fire_only_once = yes
	
	trigger = {
		date > 1937.4.27
		original_tag = ITA
		has_civil_war = no
		has_government = fascism
		exists = yes
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		set_global_flag = ITA_gramsci_dead
		ITA = {
			country_event = italymod.news.22
		}
	}
}

#"The Death of Antonio Gramsci"
country_event = {
	id = italymod.news.22
    title = italymod.news.22.t
    desc = italymod.news.22.desc
	picture = GFX_ITA_gramsci
	
	is_triggered_only = yes
	
	option = {
		name = italymod.news.22.a #"Memento Mori."
		trigger = { 
			
		}
		
		retire_character = ITA_antonio_gramsci
	}
}

#Death of Guglielmo Marconi (HIDDEN)
country_event = {
	id = italymod.news.23
	hidden = yes
	
	fire_only_once = yes
	
	trigger = {
		date > 1937.7.20
		original_tag = ITA
		exists = yes
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	immediate = {
		set_global_flag = ITA_gramsci_dead
		ITA = {
			country_event = italymod.news.24
		}
	}
}

#"The Death of Guglielmo Marconi"
country_event = {
	id = italymod.news.24
    title = italymod.news.24.t
    desc = italymod.news.24.desc
	picture = GFX_ITA_marconi
	
	is_triggered_only = yes
	
	option = {
		name = italymod.news.24.a #"Memento Mori."
		trigger = { 
			
		}
	}
}